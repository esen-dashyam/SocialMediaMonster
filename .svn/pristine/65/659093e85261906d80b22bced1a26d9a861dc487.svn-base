@model SocialMonster.Models.SystemUserModels

<link href="~/Content/member.css" rel="stylesheet">
<link href="~/Content/Search.css" rel="stylesheet" />
@{
    ViewBag.Title = "Ухаалаг мэдээ";
}

<input type="hidden" id="UserID" value="@Model.ID">
<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400|Roboto:400&amp;subset=cyrillic" rel="stylesheet">
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<script src="https://kit.fontawesome.com/893ff05b10.js" crossorigin="anonymous"></script>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v10.0&appId=508972406750284&autoLogAppEvents=1" nonce="u4feslAn"></script>

@*<script src="https://cdn.bootcss.com/html2pdf.js/0.9.1/html2pdf.bundle.js"></script>*@
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>



<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style type="text/css">
@*    /*bulgaaa*/
    .box {
        margin: 2%;
        width: 45%;
        display: block;
        float: left;
    }

        .box:nth-child(2n + 0) {
            float: right;
        }/*bulgaaaa*/*@
    @@media print {
        .pagebreak {
            page-break-before: always;
        }
        /* page-break-after works, as well */
        body {
            -webkit-print-color-adjust: exact !important; /* Chrome, Safari, Edge */
        }
        @@page {
            margin: 0mm; /* this small affects the margin in the printer IMP settings */
            size: A3 portrait;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 0px;
            margin-bottom: 0px;
            -webkit-print-color-adjust: exact;
        }

        #main-bodyWebsiteOnly {
            column-count: 3 !important;
            page-break-after: always;
        }

        .sceenshotdiv {
            display: block;
        }

        .NotPrintable {
            display: none;
        }
        .Printable {
            display: block !important;
        }
        .blog-card {
        height: 100% !important; /* might also try height: 100%; */
        page-break-inside: avoid;
        page-break-after: auto;

        }
      }
.loading {
	opacity: 0;
	display: flex;
	position: fixed;
	bottom: 50px;
	left: 50%;
	transform: translateX(-50%);
	transition: opacity .3s ease-in;
}

.loading.show {
	opacity: 1;
}

.ball {
	background-color: #777;
	border-radius: 50%;
	margin: 5px;
	height: 10px;
	width: 10px;
	animation: jump .5s ease-in infinite;
}

.ball:nth-of-type(2) {
	animation-delay: 0.1s;
}

.ball:nth-of-type(3) {
	animation-delay: 0.2s;
}

    .list-group1 span {
        display: none;
    }

    .list-group2 span {
        display: none;
    }

    .list-group3 span {
        display: none;
    }

    .checkbox {
        width: 19px;
        height: 19px;
    }

    .nav-link {
        color: #7081B9;
        transition: all 0.1s;
        margin: 0 5px 0 5px;
    }



    .custom-border {
        transition: all 100ms;
        height: 51px;
        cursor:pointer
    }

        .activeBorder, .custom-border:hover {
            border-bottom: 3px solid cornflowerblue;
            color: #7081B9;
        }


    .nav-link > i {
        font-size: 21px;
        transition: all 0.1s;
        @* color: #7081B9;*@
    }
    .nav-link > strong:hover {
        color: #1761fd;
    }

    .nav-link:hover > * {
        color: cornflowerblue;
    }


    .nav-link > strong {
        color: #7081B9;
        transition: all 0.1s;
    }


    .checkbox[type="checkbox"] {
        -webkit-appearance: none;
        background-color: #7081b9;
        border-radius: 5px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        outline: none;
    }

    .checkbox[type="checkbox"] {
        @*-webkit-appearance: none;*@
        background-color: #fff;
        border-radius: 5px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        outline: none;
    }

        .checkbox[type="checkbox"]:after {
            font-family: "Font Awesome 5 Free";
@*            font-weight: 700;
            content: "\f00c";*@
            color: white;
            display: none;
        }

        .checkbox[type="checkbox"]:checked {
            background-color: #0d6efd
        }

            .checkbox[type="checkbox"]:checked:after {
                padding-top: 1px;
                display: block
            }
    #insta {
        background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 21px;
    }


    #main-bodyFacebookOnly {
        column-count: 3
    }
    #main-bodyWebsiteOnly{
        column-count:3
    }

    @@media(max-width: 1024px) {
        #main-bodyFacebookOnly {
            column-count: 2
        }
        #main-bodyWebsiteOnly {
            column-count: 2
        }
    }

    @@media(max-width:768px) {
        #main-bodyFacebookOnly {
            column-count: 1
        }
        #main-bodyWebsiteOnly {
            column-count:1
        }
    }

    #main-bodyTwitterOnly {
        column-count: 3
    }

    @@media(max-width: 821px) {
        #main-bodyTwitterOnly {
            column-count: 2
        }
    }

    @@media(max-width:760px) {
        #main-bodyTwitterOnly {
            column-count: 1
        }

        .btn-block {
            padding-right: 20px
        }
    }
                @@media screen and (max-width: 820px)
                {
                    #Dphone {
                        display:none;
                    }
                }

                @@media screen and (max-width: 720px) {
                    #Dphone {
                        display: none;
                    }
                }

                @@media screen and (max-width: 540px) {
                    #Dphone {
                        display: none;
                    }
                }

                @@media screen and (max-width: 320px) {
                    #Dphone {
                        display: none;
                    }
                }
                    @@media screen and (max-width: 540px) {
                        .nav-link strong {
                            display: none !important;
                        }
                    }

                    @@media screen and (max-width: 320px) {
                        .nav-link strong {
                            display: none !important;
                        }
                    }
    #btn-back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: none;
    }
    .apexcharts-bar-area{
        stop-color:white !important;
    }
</style>
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
<!--2022-04-04-->
<link href="~/Content/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/assets/css/metisMenu.min.css" rel="stylesheet" type="text/css" />
<link href="~/Content/app-assets/vendors/css/pickers/daterange/daterangepicker.css" rel="stylesheet" type="text/css" />
<link href="~/Content/assets/css/app.min.css" rel="stylesheet" type="text/css" />
<script src="../Jquery/jquery.multiselect.js"></script>
<script src="../Jquery/prettify.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script src="latestJs_1.11/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

*@
<!--2022-04-04-->
<style>
    #chartdiv {
        width: 100%;
        height: 400px;
    }

    h1 {
        font: 300 80px/1 'Source Sans Pro', Arial, sans-serif;
        background: #3090C7;
        text-transform: uppercase;
        color: #fff;
        text-align: center;
        letter-spacing: -3px;
        top: 35%;
        width: 100%;
        text-shadow: 0 1px 0 hsl(174,5%,80%), 0 2px 0 hsl(174,5%,75%), 0 3px 0 hsl(174,5%,70%), 0 4px 0 hsl(174,5%,66%), 0 5px 0 hsl(174,5%,64%), 0 6px 0 hsl(174,5%,62%), 0 7px 0 hsl(174,5%,61%), 0 8px 0 hsl(174,5%,60%), 0 0 5px rgba(0,0,0,.05), 0 1px 3px rgba(0,0,0,.2), 0 3px 5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.2), 0 10px 10px rgba(0,0,0,.2), 0 20px 20px rgba(0,0,0,.3);
    }

    .modal-backdrop.fade.show {
        display: none;
    }

    .modal-content {
        box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px;
    }

    .dastone-profile .dastone-profile-main .dastone-profile-main-pic {
        max-width: 400px;
        max-height: 400px;
        position: relative;
    }
</style>

<br />

<div class="NotPrintable" style="display:none; text-align:center;">
    <h4 id="demo"></h4>


</div>
<!--
-->
<input type="hidden" id="test1" value="0" />

<input type="hidden" id="title" value="" />
<input type="hidden" id="body" value="" />

<div class="card-body ">
    <div class="dastone-profile">
        <div class="row">
            <div class="col-sm-4">
                <div class="card" style="width: 100%; height: 100%;">
                    <div class="card-body">

                        @if (@Model.Picture is null)
                        {
                            <img style="object-fit:cover" src="~/Content/assets/images/users/User.jpg" alt="" height="80" width="80" class="rounded-circle">
                        }
                        else
                        {
                            <img style="object-fit: contain; border-radius: 15px; height: 200px; width: 500px " class="img-fluid" src="@Model.Picture" alt="">
                        }
                    </div>
                </div>
            </div>
            <div class="col-sm-8">
                <div class="card" style="width: 100%; height: 100%; background: #1273df;">
                    <div class="card-body">
                        @if (@Model.Tittlename is null)
                        {
                            <h3 class="dastone-user-name text-center text-bold-lg text-white">@Model.Surename @Model.Name</h3>
                        }
                        else
                        {
                            <h3 class="dastone-user-name text-center text-bold-lg text-white">@Model.Tittlename </h3>
                        }
                        <p class="mb-0 dastone-user-name-post text-center text-white">@Model.Description</p>
                    </div>
                </div>
            </div>
            <div class="card-body Printable">
                <h4 class="text-center" id="Title"></h4>
                <h4 class="text-right" id="Date" style="color: darkgray; text-align:end"></h4>
            </div>
            <div class="col-lg-4 align-self-center NotPrintable">
                <div class="row">
                    <div class="col-auto text-end border-end">
                        <button type="button" class="btn btn-soft-primary btn-icon-circle btn-icon-circle-sm mb-2" style="margin-right: 25%;">
                            <i class="fab fa-facebook-f"></i>
                        </button>
                        <p class="mb-0 fw-semibold">Facebook</p>
                        @*<h4 class="m-0 fw-bold">25k <span class="text-muted font-12 fw-normal">Followers</span></h4>*@
                    </div><!--end col-->
                    <div class="col-auto">
                        <button type="button" class="btn btn-soft-info btn-icon-circle btn-icon-circle-sm mb-2" style="margin-left: 18%;">
                            <i class="fab fa-twitter"></i>
                        </button>
                        <p class="mb-0 fw-semibold">Twitter</p>
                        @*<h4 class="m-0 fw-bold">58k <span class="text-muted font-12 fw-normal">Followers</span></h4>*@

                    </div><!--end col-->
                </div><!--end row-->
            </div><!--end col-->
        </div><!--end row-->
    </div><!--end f_profile-->
</div><!--end card-body-->

<div class="sceenshotdiv" id="customers"></div>

<!--<div class="card">
    <div class="card-chart-header-active"></div>
    <div class="card-header" style="border-bottom:0;">
        <h6><span class="card-chart-title"> Сүүлийн 30н өдрийн нийгмийн хандлага </span></h6>
    </div>-->
<!--end col-->
<!--<div class="col-auto">
    <div class="dropdown">
        <a href="#" class="btn btn-sm btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Энэ сар<i class="las la-angle-down ms-1"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-end">
            <a class="dropdown-item" href="#">Өнөөдөр</a>
            <a class="dropdown-item" href="#">Өнгөрсөн долоо хоног</a>
            <a class="dropdown-item" href="#">Өнгөрсөн сар</a>
            <a class="dropdown-item" href="#">Энэ жил</a>
        </div>
    </div>
</div>-->
<!--end col-->
<!--</div>-->  <!--end row-->
<!--</div>--><!--end card-header-->
<!--<div class="card-body">
    <div class="" style="width:1600px">
        <div id="ana_dash_2" class="apex-charts" style="width:1550px"></div>
    </div>
</div>-->
<!--end card-body-->
<!--</div>--><!--end card-->
<!--search bar-->
<!--start Suuliin 30 udur iin niigmiin handlaga chart ehniih-->
@if (ViewBag.CusID != "29c151ef-97df-46f6-b275-c1ef37ac0ca8" && ViewBag.CusID != "227311c0-99e1-44e7-83f1-cc0e68977610"
    && ViewBag.CusID != "edb219b7-0013-45d3-9f35-cc60c51b4003" && ViewBag.CusID != "cad1b51b-c557-42dd-9904-3a5964193b9a"
    && ViewBag.CusID != "f1967c8d-6531-425f-ba19-536d17baf6ca" && ViewBag.CusID != "a92d55ce-cdd6-4279-9b85-fb5580f4d5bb"
    && ViewBag.CusID != "9ae8f56e-e406-4bfc-8e13-5e40133eb1fd" && ViewBag.CusID != "4e0cb704-4841-4027-89fb-e6e744df8309"
     && ViewBag.CusID != "0ac4cbf7-5edf-4daa-83af-6508dd9770f6" && ViewBag.CusID != "68ef7937-072f-443a-9531-9017d06fd2f3"
      && ViewBag.CusID != "b0a48809-a8ff-41df-b5a0-d63f17794ed4" && ViewBag.CusID != "3952ee1a-f111-49c7-a1f3-2c0070331ff2")
{
    <div class="card">
        <div class="card-chart-header-active"></div>
        <div class="card-header" style="border-bottom:0;">
            <h6><span class="card-chart-title"> Сүүлийн 30н өдрийн нийгмийн хандлага </span></h6>
        </div>
        <div class="card-body">
            <div class="" style="width:1600px">
                <div id="ana_dash_2" class="apex-charts" style="width:1550px"></div>
            </div>
        </div>
    </div>
}
else
{
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="" style="width:">
                    <div id="ana_dash_3" class="apex-charts" style="width:;"></div>
                </div>
            </div>
        </div>
    </div>
}
<!--end Suuliin 30 udur iin niigmiin handlaga chart ehniih-->


<div class="NotPrintable">
    <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModalLive2">
        Фэйсбүүк пост нэмэх
    </button>
    <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModalLive">
        Твиттер пост нэмэх
    </button>
    <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModalLive3">
        Вэб сайт пост нэмэх
    </button>

    <div class="modal fade" id="exampleModalLive2" tabindex="-1" aria-labelledby="exampleModalLiveLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLiveLabel">Фэйсбүүк пост нэмэх</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Post owner name:</label>
                            <input type="text" class="form-control" id="fromName" placeholder="Нийтлэлийн эзэмшигчийн нэр">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Post object ID:</label>
                            <input type="text" class="form-control" id="FBpostID" placeholder="Нийтлэлийн ID">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Post text</label>
                            <textarea type="text" class="form-control" id="fbDescription" placeholder="Нийтлэлийн текст"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Link:</label>
                            <input type="text" class="form-control" id="fbLink" placeholder="Линк">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Post date:</label>
                            <input type="datetime-local" class="form-control" id="UpdateTime" placeholder="Нийтлэлийн огноо">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput">Post Picture:</label>
                            <input type="file" class="form-control" id="fbImage" placeholder="Зураг" onchange="previewImage3()">
                        </div>
                        <div class="form-group" id="fbImagePreviewDiv" style="display:none">
                            <img id="fbImagePreview" src="" height="200" alt="Image preview...">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Sentiment</label>
                            <select class="form-select" aria-label="Default select example" id="FBSentiment">
                                <option selected value="Neutral">Саармаг</option>
                                <option value="Negative">Сөрөг</option>
                                <option value="Positive">Эерэг</option>
                            </select>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Хаах</button>
                    <button type="button" onclick="facebookDataSend()" class="btn btn-primary">Хадгалах</button>
                </div>
            </div>
        </div>
    </div>
    @*start facebookdata save *@
    <script>
        var fbImage = "";
        function previewImage3() {
            var preview = document.getElementById("fbImagePreview");
            var file = document.getElementById("fbImage").files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                fbImage = reader.result;

            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
            document.getElementById("fbImagePreviewDiv").style.display = "block";


        }
        function facebookDataSend() {
            var fbDescription = $("#fbDescription").val();
            //var fbImage = $("#fbImage").val();
            //var file = document.querySelector('fbImage').files[0];
            //var reader = new FileReader();
            console.log(fbImage);
            var fbLink = $("#fbLink").val();
            var DateTime = $("#UpdateTime").val();
            var sentiment = $("#FBSentiment").val();
            var postID = $("#FBpostID").val();
            var personID = $("#personID").val();
            var fromName = $("#fromName").val();
            var UserID = $("#UserID").val();
            $.ajax({
                type: "POST",
                url: '/Home/FacebookDataSend',
                data: { 'fbImage': fbImage, 'fbDescription': fbDescription, 'fbLink': fbLink, 'sentiment': sentiment, 'postID': postID, 'personID': personID, 'fromName': fromName, 'UserID': UserID, 'DateTime': DateTime, },
                success: function () {

                    alert("Үйлдлийн амжилттай хийж дуусгалаа!");
                    location.reload();
                    $('#exampleModalLive2').modal('hide');
                }
            })

        }
    </script>
    @*end facebookdata save *@
    @*start twitter save *@
    <div class="modal fade" id="exampleModalLive" tabindex="-1" aria-labelledby="exampleModalLiveLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLiveLabel">Твиттер пост нэмэх</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>

                        <div class="form-group">
                            <label for="formGroupExampleInput2">Twitter owner name:</label>
                            <input type="text" class="form-control" id="screenName" placeholder="Твиттер эзэмшигчийн нэр">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput">Twitter ID:</label>
                            <input type="text" class="form-control" id="statusID" placeholder="id">
                        </div>

                        <div class="form-group">
                            <label for="formGroupExampleInput2">Link:</label>
                            <input type="text" class="form-control" id="twitterLink" placeholder="Линк">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Twitter text</label>
                            <textarea type="text" class="form-control" id="twitterDescription" placeholder="Нийтлэлийн текст"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput">Твиттер зураг:</label>
                            <input type="file" class="form-control" id="Twimage" onchange="previewImage2()" placeholder="Зураг">
                        </div>
                        <div class="form-group" id="TwimagePreviewDiv" style="display:none">
                            <img id="TwimagePreview" src="" height="200" alt="Image preview...">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Твиттер оруулсан огноо:</label>
                            <input type="datetime-local" class="form-control" id="DateTime" name="DateTime">
                        </div>

                        <div class="form-group">
                            <label for="formGroupExampleInput2">Sentiment</label>
                            <select class="form-select" aria-label="Default select example" id="TWSentiment">
                                <option selected value="Neutral">Саармаг</option>
                                <option value="Negative">Сөрөг</option>
                                <option value="Positive">Эерэг</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Хаах</button>
                    <button type="button" onclick="twitterDataSend()" class="btn btn-primary">Хадгалах</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var Twimage = "";
        function previewImage2() {
            var preview = document.getElementById("TwimagePreview");
            var file = document.getElementById("Twimage").files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                Twimage = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
            document.getElementById("TwimagePreviewDiv").style.display = "block";

        }

        function twitterDataSend() {
            var twitterDescription = $("#twitterDescription").val();
            var twitterLink = $("#twitterLink").val();
            var CreatedAt = $("#DateTime").val();
            var sentiment = $("#TWSentiment").val();
            var RetweetCount = $("#RetweetCount").val();
            var Retweeted = $("#Retweeted").val();
            var PersonID = $("#PersonID").val();
            var statusID = $("#statusID").val();
            var UserID = $("#UserID").val();
            var screenName = $("#screenName").val();
            $.ajax({
                type: "POST",
                url: '/Home/TwitterDataSend',
                data: {
                    'Twimage': Twimage, 'twitterDescription': twitterDescription, 'twitterLink': twitterLink, 'sentiment': sentiment, 'RetweetCount': RetweetCount,
                    'Retweeted': Retweeted, 'statusID': statusID, 'PersonID': PersonID, 'UserID': UserID, 'screenName': screenName, 'CreatedAt': CreatedAt
                },
                success: function (data) {
                    alert("Үйлдлийн амжилттай хийж дуусгалаа!");
                    location.reload();
                    $('#exampleModalLive').modal('hide');

                },
            })

        }
    </script>
    @*start twitter save *@
    @*start web save *@
    <div class="modal fade" id="exampleModalLive3" tabindex="-1" aria-labelledby="exampleModalLiveLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLiveLabel">Вэб сайт пост нэмэх</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="formGroupExampleInput">Гарчиг:</label>
                            <input type="text" class="form-control" id="webTitle" placeholder="Гарчиг">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Мэдээ:</label>
                            <textarea type="text" class="form-control" id="webDescription" placeholder="Мэдээ"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Нийтэлсэн сэтгүүлч:</label>
                            <input type="text" class="form-control" id="Reporter">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Link:</label>
                            <input type="text" class="form-control" id="webLink" placeholder="Линк">
                        </div>

                        @*  <div class="form-group">
                                <label for="formGroupExampleInput">Cover зураг</label>
                                <input type="text" class="form-control" id="webCoverImageLink" placeholder="cover зураг" />
                            </div>*@
                        <div class="form-group">
                            <label for="formGroupExampleInput">Зураг оруулах:</label>
                            <input type="file" class="form-control" id="Wbimage" onchange="previewImage1()" placeholder="Зураг">
                        </div>
                        <div class="form-group" id="WbimagePreviewDiv" style="display:none">
                            <img id="WbimagePreview" src="" height="200" alt="Image preview...">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Нийтэлсэн огноо:</label>
                            <input type="datetime-local" class="form-control" id="WebCreatAt" name="WebCreatAt">
                        </div>
                        <div class="form-group">
                            <label for="formGroupExampleInput2">Sentiment:</label>
                            <select class="form-select" aria-label="Default select example" id="WBSentiment">
                                <option selected value="Neutral">Саармаг</option>
                                <option value="Negative">Сөрөг</option>
                                <option value="Positive">Эерэг</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Хаах</button>
                    <button type="button" onclick="webDataSend()" class="btn btn-primary">Хадгалах</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var Wbimage = "";
        function previewImage1() {
            var preview = document.getElementById("WbimagePreview");
            var file = document.getElementById("Wbimage").files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                Wbimage = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
            document.getElementById("WbimagePreviewDiv").style.display = "block";

        }

        function webDataSend() {
            var webDescription = $("#webDescription").val();
            var webTitle = $("#webTitle").val();
            var webLink = $("#webLink").val();
            var sentiment = $("#WBSentiment").val();
            var Reporter = $("#Reporter").val();
            var personID = $("#personID").val();
            var UserID = $("#UserID").val();
            var WebCreatAt = $("#WebCreatAt").val();
            var webCoverImageLink = $("#webCoverImageLink").val();
            var WbFullPicture = $("#Wbimage").val();

            $.ajax({
                type: "POST",
                url: '/Home/WebDataSend',
                data: { 'Wbimage': Wbimage, 'webDescription': webDescription, 'webTitle': webTitle, 'webLink': webLink, 'sentiment': sentiment, 'Reporter': Reporter, 'personID': personID, 'UserID': UserID, 'WebCreatAt': WebCreatAt, 'webCoverImageLink': webCoverImageLink },
                success: function () {
                    alert("Үйлдлийн амжилттай хийж дуусгалаа!");
                    location.reload();
                    $('#exampleModalLive3').modal('hide');

                }
            })

        }
    </script>
    @*end web save *@
    @* start search *@
    <div class="row">
        <div class="s002" id="frm_search">
            <form>
                <div class="inner-form" style="background:white">
                    <div class="input-field first-wrap">
                        <input id="input_search" type="text" placeholder="Хайх утга" style="width:100% !important;" />
                    </div>
                    <div style="" class="input-group-text border-0  mw-100 bg-white" id="search-addon">
                        <a href="#" class="btn btn-outline-secondary" id="reportrange">
                            <span class="ay-name" id="Day_Name">Today:</span>&nbsp;
                            <span class="" id="Select_date">Jan 11</span>
                            <i data-feather="calendar" class="align-self-center icon-xs ms-1"></i>
                        </a>
                    </div>
                    <input style="display:none" id="date_start" />
                    <input style="display:none" id="date_end" />

                    <div class="input-field fouth-wrap row align-items-center">
                        <select data-trigger="" id="select_sentiment" name="choices-single-default">
                            <option placeholder="">Хандлага</option>
                            <option>Эерэг</option>
                            <option>Сөрөг</option>
                            <option>Саармаг</option>
                        </select>
                    </div>
                    <button name="btn_search" id="btn_search" class="btn btn-outline-secondary bt-search" @*style="border: none; background-color: transparent;"*@ type="button" onclick="return;">
                        Хайх <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <a class="btn " style="padding: 0px 10px;  margin: 5px;  border-radius: 8px; padding: 5px;" onclick="ListView()" id="listBtn">
                        <svg style="display: none;" id="grdview" xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-grid-fill" viewBox="0 0 16 16">
                            <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z" />
                        </svg>
                        <i id="lstview" style="font-size: 29px; width:28px; height:28px" class="fa-solid fa-bars"></i>
                    </a>

                </div>
            </form>
        </div>
    </div>
    @* end search *@
    <div id="ListViewOnOff">
        @*<h4 style=" text-align: center;">List view off </h4>*@
    </div>
</div>

@*start yronhii 2 chart*@
<div class="Printable">
    <div class="row" style="display:flex;justify-content:center">
        <div class="col-xll-6 col-xl-5 col-md-6 Printable">
            <div class="card">
                <div class="card-chart-header-active"></div>
                <div class="card-header" style="border-bottom:0;">
                    <h6><span class="card-chart-title"> Фейсбүүк постууд, Твитүүд, Сайт, Сонины  нийтлэлүүд эзлэх хувь </span><i class="far fa-question-circle ms-2"></i></h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <div id="chart8" class="apex-charts"></div>
                        </div>
                        <div class="col">
                            <div id="chart8_table" class="table-responsive mt-2">
                                <table class="table border-dashed mb-0">
                                    <thead>
                                        <tr>
                                            <th>Төрөл</th>
                                            <th class="text-end">Тоо</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><i class="fa-brands fa-facebook" style="color: #1877F2"></i> Фэйсбүүк постууд</td>
                                            <td class="text-end" id="SearchFBCount" value="@ViewBag.FBCount">@ViewBag.FBCount</td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa-brands fa-twitter" style="color: #00acee"></i>  Твитүүд</td>
                                            <td class="text-end" id="SearchTWCount">@ViewBag.TWCount</td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa-solid fa-newspaper" style="color:#f5325c"></i>  Сайт Сонины нийтлэлүүд</td>
                                            <td class="text-end" id="SearchWBCount">@ViewBag.WBCount</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        @* <div class="row">

                            </div>*@
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xll-4 col-xl-5 col-md-6 Printable">
            <div class="card">
                <div class="card-header" style="border-bottom:0;">
                    <h6><span class="card-chart-title">Нийт мэдээллийн эерэг сөрөг саармаг </span><i class="far fa-question-circle ms-2"></i></h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <div id="chart3" class="apex-charts"></div>
                        </div>
                        <div class="col">
                            <div id="chart4_table" class="table-responsive mt-3">
                                <table class="table border-dashed mb-0">
                                    <thead>
                                        <tr>
                                            <th>Төрөл</th>
                                            <th class="text-end">Тоо</th>
                                            @*<th class="text-end">Хувь</th>*@
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><i class="fa-solid fa-circle" style="color: #009356"></i> Эерэг</td>
                                            <td class="text-end" id="SearchPositive">@ViewBag.Positive</td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa-solid fa-circle" style="color: #ff5555"></i> Сөрөг</td>
                                            <td class="text-end" id="SearchNegative">@ViewBag.Negative</td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa-solid fa-circle" style="color: #6c757d"></i> Саармаг</td>
                                            <td class="text-end" id="SearchNeutral">@ViewBag.Neutral</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    @* <div class="row">

                        </div>*@
                </div>
            </div>
        </div>
    </div>
    <div>
    </div>
    <p id="Search-Result-Text" style=" margin-left: 5px;"></p>
</div>
@*end yronhii 2 chart*@
@*start tailangn description haruuldag heseg *@
<div class="Printable" style="display:none; text-align:center;">
    <h4 id="demo2"></h4>
</div>
@*end tailangn description haruuldag heseg *@
@*start choose only one source button *@
<div class="NotPrintable">
    <div class="row mb-3">
        <div class="col-12">
            <div class="m-3">
                <div class="">

                    <ul id="cusborder" class="nav-border nav nav-pills mb-0 pb-0 justify-content-center" style="border-bottom: 1px solid #e3ebf6">
                        <li class="nav-item custom-border activeBorder">
                            <a class="nav-link" onclick="ShowAllData()">
                                <img src="~/Content/Images/all-grey.png" height="20" class="me-2 align-self-center rounded" alt="..."><strong>Ерөнхий</strong>
                            </a>
                        </li>

                        <li class="nav-item custom-border">
                            <a class="nav-link" onclick="OnlyFB()">
                                <i class="fa-brands fa-facebook" style="color: #1877F2"></i>
                                <strong> Фэйсбүүк</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border">
                            <a class="nav-link" onclick="OnlyTwitter()">
                                <i class="fa-brands fa-twitter" style="color: #00acee"></i>
                                <strong> Твиттер</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border">
                            <a class="nav-link" onclick="OnlyWebsite()">
                                <i class="fa-solid fa-globe" style="color: #f5325c"></i>
                                <strong> Вэбсайт</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border">
                            <a class="nav-link" onclick="OnlyLink()">
                                <i class="fa-brands fa-linkedin" style="color:#0e76a8"></i>
                                <strong> Линкдэн</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border" id="Dphone">
                            <a class="nav-link" onclick="Paid()">
                                <i class="fa-brands fa-instagram" id="insta"></i>
                                <strong> Инстаграм</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border" id="Dphone">
                            <a class="nav-link" onclick="Paid()">
                                <i class="fa-brands fa-youtube" style="color: #FF0000"></i>
                                <strong> Youtube</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border" id="Dphone">
                            <a class="nav-link" onclick="Paid()">
                                <i class="fa-solid fa-newspaper" style="color: #f5325c "></i>
                                <strong>Сонин, сэтгүүл</strong>
                            </a>
                        </li>
                        <li class="nav-item custom-border" id="Dphone">
                            <a class="nav-link" onclick="Paid()">
                                <i class="fa-solid fa-tv" style="color:cornflowerblue"></i>
                                <strong>Телевиз</strong>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
    <script type="text/javascript">
        var wrap = document.getElementById("cusborder");
        var btns = wrap.getElementsByClassName("custom-border");
        for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener("click", function () {
                var current = document.getElementsByClassName("activeBorder");
                if (current.length > 0) {
                    current[0].className = current[0].className.replace(" activeBorder", "");
                }
                this.className += " activeBorder";
            });
        }

        function capture() {
            html2canvas(document.getElementById("main-bodyWebsiteOnly"), {
                useCORS: true
            }).then((canvas) => {
                let a = document.createElement("a");
                a.download = "ss.png";
                a.href = canvas.toDataURL("image/png");
                a.click(); // MAY NOT ALWAYS WORK!
            });
        }
    </script>
</div>
@*end choose only one source button *@
<br>
@*start medeeni action + hevleh button*@
<div class="NotPrintable">
    <div class="row ">
        <div class="col-md-6 col-sm-12 mb-2" style="display:flex; align-items:center; justify-content:center;gap:5px; border: 1px solid #c5d5eb; width: auto; height: 50px; border-radius:5px; margin:0 0 0 8px">
            <input onclick="Check()" id="testCheck" type="checkbox" class="form-check-input" style="width:25px;height:25px; outline:none;border-radius:50px ">
            <button id="btn_control" type="button" class="btn btn-secondary border-0" onclick="NewControl(false)" style="width: 25px; height: 25px; margin-top: 4px; border-radius: 50px"><i class="fa-solid fa-trash-can" style="margin: -10px;position: absolute;padding: 4px;"></i></button>
            <button value="Negative" onclick="NewControl(true, this.value)" class="btn btn-light" style="width: 25px; height: 25px; border-radius: 50px; margin-top:4px; background: #F5325C"></button>
            <button value="Positive" onclick="NewControl(true, this.value)" class="btn btn-light" style="width: 25px; height: 25px; border-radius: 50px; margin-top:4px; background: #91E8E8 "></button>
            <button value="Neutral" onclick="NewControl(true, this.value)" class="btn btn-light" style="width: 25px; height: 25px; border-radius: 50px; margin-top:4px; background: #7BA8D7 "></button>

        </div>
        <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#PrintDialog" style="height: 50px; width: 120px; margin-left: 5px;">
            <i class="fa-solid fa-file-pdf"></i> Хэвлэх
        </button>

    </div>
</div>
@*end medeeni action + hevleh button*@

@*start hevleh modal*@
<div class="Printable">
    <h4 class="text-right d-block text-black Printable" id="ReportGiven" text-align:end"></h4>
</div>
<div class="Printable" style="display:none; text-align:center;">
    <h4 id="demo2"></h4>
</div>
<div class="NotPrintable">
    <div class="modal fade" id="PrintDialog" tabindex="-1" aria-labelledby="Print" aria-hidden="true">

        <div class="modal-dialog" id="PrintDialog">
            <div class="modal-content" style="">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Тайлан Хэвлэх</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Гарчиг:<input type="text" class="form-control" id="reportTitle" value="">
                    Тайлан:<textarea type="text" class="form-control" id="report" rows="4" cols="50" value=""></textarea>
                    Оноо:<input type="date" class="form-control" ria-describedby="inputGroup-sizing-default" oninput="pdfToValue()" id="reportdate" value="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="Give(), window.print()"><i class="fa-solid fa-file-pdf"></i> Хэвлэх</button>
                </div>
            </div>
        </div>
    </div>
</div>
@*end hevleh modal*@

@*start fb tw web first main data*@
<div id="main-body">
    <br>
    <div class="row" id="SmartMain" data-id="@ViewBag.CusID">
        <div class="col-sm-4 mb-2" style="border-right:1px dashed #ccc;" id="FbLoad">
            <div class="card">
                <div class="card-body text-center">
                    <h4 style="color:#3b5998"><i class="fa fa-facebook-square"></i> Фэйсбүүк постууд</h4>
                </div>

            </div>
            <div id="FbList" data-id="@ViewBag.FbLastID">
                @{
                    try
                    {
                        if (Context.Request.Cookies["isListView"] == null)
                        {
                            Context.Response.Cookies["isListView"].Value = "1";
                        }
                    }
                    catch
                    {
                        Context.Response.Cookies["isListView"].Value = "1";
                    }
                }
                @foreach (var post in ViewBag.FbData)
                {
                    if (Request.Cookies["isListView"].Value.ToString() == "1")
                    {
                        <div style="border-radius: 10px; " class="card news-feed-card-bg smart-news-box">
                            <div class="card-content mb-1" name="post">
                                <div class="card-body">
                                    <div class="" style="width:100%; height:100%; overflow:hidden;">
                                        @if (@post.FullPicture != null)
                                        {
                                            {
                                                <a href="https://www.facebook.com/@post.PostID" class="" target="_blank">
                                                    <img src="~/@post.FullPicture" onError="this.style.display = 'none';" style="width:100%; height:100%">
                                                </a>
                                            }
                                        }
                                    </div>

                                    <div style="line-height:18px;">
                                        <a @*href="https://www.facebook.com/@post.FromID"*@ class="float-left" style="color:#0067D4 !important" target="_blank">
                                            @post.FromName
                                        </a><br>
                                        <div class="float-right" style="font-style:italic; color:#ccc;">@post.UpdateTime </div><br />
                                        <div style="text-align:justify;">
                                            <a href="https://www.facebook.com/@post.PostID" class="float-left text-dark" target="_blank">
                                                @if (post.Message != null)
                                                {
                                                    @post.Message
                                                }
                                                else if (post.Story != null)
                                                {
                                                    @post.Story
                                                }
                                                else if (post.Caption != null)
                                                {
                                                    @post.Caption
                                                }
                                                else if (post.Description != null)
                                                {
                                                    <a href="@post.ID"></a>
                                                    @post.Description
                                                }
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                    <div style="display:flex;align-items:center; justify-content:end" class="">
                                        <div class=" col-sm-auto  NotPrintable">
                                            <input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="@post.ID" style="width:19px !important;height:19px; margin-top:0" />
                                        </div>
                                        <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">

                                            @if (post.Sentiment == null)
                                            {
                                                <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                            }
                                            else if (post.Sentiment == "Positive")
                                            {
                                                <div align="right" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Эерэг</div>

                                            }
                                            else if (post.Sentiment == "Negative")
                                            {
                                                <div align="right" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; text-align: center; ">Сөрөг</div>
                                            }
                                            else if (post.Sentiment == "Neutral")
                                            {
                                                <div align="right" style="width: 60px !important; height: 25px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; text-align: center; ">Саармаг</div>
                                            }
                                        </div>
                                        <div class="col-sm-auto  NotPrintable">
                                            <button onclick="Modal('Facebook','@post.ID')" data-toggle="modal" data-target="#ModalControl"
                                                    class="btn btn-block" style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px ">
                                                <i class="fa fa-cog"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    }
                    else
                    {

                        <span>
                            <div style="border-radius: 10px; " class="card news-feed-card-bg smart-news-box">
                                <div class="card-content mb-1" name="post">
                                    @if (!post.PermalinkUrl.Contains("group"))
                                    {
                                        <div class="card-body">
                                            <div class="fb-post" data-href="@post.PermalinkUrl" data-width="auto"></div>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="card-body">
                                            <div class="" style="width:100%; height:100%; overflow:hidden;">
                                                @if (@post.FullPicture != null)
                                                {
                                                    {
                                                        <a href="@post.Link" class="" target="_blank">
                                                            <img src="@post.FullPicture" style="width:100%; height:100%">
                                                        </a>
                                                    }
                                                }
                                            </div>

                                            <div style="line-height:18px;">
                                                <a href="https://www.facebook.com/@post.FromID" class="float-left" style="color:#0067D4 !important" target="_blank">
                                                    @post.FromName
                                                </a><br>
                                                <div class="float-right" style="font-style:italic; color:#ccc;"> @post.UpdateTime </div><br />
                                                <div style="text-align:justify;">
                                                    <a href="https://www.facebook.com/@post.PostID" class="float-left text-dark" target="_blank">
                                                        @if (post.Message != null)
                                                        {
                                                            @post.Message
                                                        }
                                                        else if (post.Story != null)
                                                        {
                                                            @post.Story
                                                        }
                                                        else if (post.Caption != null)
                                                        {
                                                            @post.Caption
                                                        }
                                                        else if (post.Description != null)
                                                        {
                                                            <a href="@post.ID"></a>
                                                            @post.Description
                                                        }
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>

                                <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                    <div style="display:flex;align-items:center; justify-content:end" class="">
                                        <div class=" col-sm-auto  NotPrintable">
                                            <input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="@post.ID" style="width:19px !important;height:19px; margin-top:0" />
                                        </div>
                                        <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">

                                            @if (post.Sentiment == null)
                                            {
                                                <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                            }
                                            else if (post.Sentiment == "Positive")
                                            {
                                                <div align="right" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Эерэг</div>

                                            }
                                            else if (post.Sentiment == "Negative")
                                            {
                                                <div align="right" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; text-align: center; ">Сөрөг</div>
                                            }
                                            else if (post.Sentiment == "Neutral")
                                            {
                                                <div align="right" style="width: 60px !important; height: 25px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; text-align: center; ">Саармаг</div>
                                            }
                                        </div>
                                        <div class="col-sm-auto NotPrintable">
                                            <button onclick="Modal('Facebook','@post.ID')" data-toggle="modal" data-target="#ModalControl"
                                                    class="btn btn-block" style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px ">
                                                <i class="fa fa-cog"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </span>
                    }
                }
                <div id="fb_next">
                </div>
                <div id="fb_spinner"></div>
                @*<a id="viewAll1" class="view-more-btn">Цааш үзэх</a>*@
                <a onclick="next10FbData()" class="view-more-btn text-info NotPrintable">Цааш үзэх</a>
            </div>
            <div id="fb_next"></div>
        </div>
        <div class="col-sm-4 list-group2 mb-2" style="border-right:1px dashed #ccc;" id="TwitterLoad">
            <div class="card">
                <div class="card-body text-center">
                    <h4 style="color:#1DA1F2"><i class="fa fa-twitter-square"></i> Твитүүд</h4>
                </div>
            </div>
            <div class="list-group2" id="TwitterList" data-id="@ViewBag.TwitterLastID">
                @{
                    try
                    {
                        if (Context.Request.Cookies["isListView"] == null)
                        {
                            Context.Response.Cookies["isListView"].Value = "1";
                        }
                    }
                    catch
                    {
                        Context.Response.Cookies["isListView"].Value = "1";
                    }


                }
                @if (ViewBag.UserID.ToString() == "B164233B-B3EE-486C-BBE0-7A7A4C56B98F")
                {
                    foreach (var post in ViewBag.TwitterData)
                    {
                        if (Request.Cookies["isListView"].Value.ToString() == "1")
                        {
                            <div class="card news-feed-card-bg smart-news-box">
                                <div class="card-content">
                                    <div class="card-body p-1">
                                        <blockquote style="margin:5px 12px" data-cards="hidden" align=left class="twitter-tweet" data-lang="en">
                                            <div class="row justify-content-md-center">
                                                @if (@post.TwFullPicture != null)
                                                {
                                                    <div class="" style="width:100%; height:100%; overflow:hidden;">

                                                        <a href="@post.UrlEntity1" class="" target="_blank">
                                                            <img src="~/@post.TwFullPicture" onError="this.style.display = 'none';" style="width:100%; height:100%">
                                                            <a href="@post.UrlEntity1"> @post.FullText </a>
                                                        </a>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="" style="width:100%; height:100%; overflow:hidden;">

                                                        <a href="@post.UrlEntity1" class="" target="_blank">
                                                            <a href="@post.UrlEntity1"> @post.FullText </a>
                                                        </a>
                                                    </div>
                                                }
                                            </div>

                                        </blockquote>
                                    </div>
                                </div>
                                <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                    <div style="display:flex;align-items:center; justify-content:end" class="">
                                        <div class="col-sm-auto  NotPrintable">
                                            <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="@post.ID" style="width:19px !important;height: 19px; margin-top:0" />
                                        </div>
                                        <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">

                                            @if (post.Sentiment == null)
                                            {
                                                <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                            }
                                            else if (post.Sentiment == "Positive")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff;">Эерэг</div>

                                            }
                                            else if (post.Sentiment == "Negative")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; border-radius: 5px; color: #fff;">Сөрөг</div>
                                            }
                                            else if (post.Sentiment == "Neutral")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff;">Саармаг</div>
                                            }
                                        </div>
                                        <div class="col-sm-auto  NotPrintable">
                                            <button onclick="Modal('Twitter','@post.ID')" data-toggle="modal" data-target="#ModalControl"
                                                    class="btn btn-block"
                                                    style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px ">
                                                <i class="fa fa-cog"></i>
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="card news-feed-card-bg smart-news-box">
                                <div class="card-content">
                                    <div class="card-body p-1">
                                        <blockquote class="twitter-tweet" data-lang="en">
                                            @if (@post.ScreenName is null)
                                            {
                                                <a href="http://twitter.com/@post.ScreenNameResponse/status/@post.StatusID"></a>
                                            }
                                            else
                                            {
                                                <a href="http://twitter.com/@post.ScreenName/status/@post.StatusID"></a>
                                            }
                                        </blockquote>
                                    </div>
                                </div>
                                <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                    <div style="display:flex;align-items:center; justify-content:end" class="">
                                        <div class="col-sm-auto  NotPrintable">
                                            <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="@post.ID" style="width:19px !important;height: 19px; margin-top:0" />
                                        </div>
                                        <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">

                                            @if (post.Sentiment == null)
                                            {
                                                <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                            }
                                            else if (post.Sentiment == "Positive")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff;">Эерэг</div>

                                            }
                                            else if (post.Sentiment == "Negative")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; border-radius: 5px; color: #fff;">Сөрөг</div>
                                            }
                                            else if (post.Sentiment == "Neutral")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff;">Саармаг</div>
                                            }
                                        </div>
                                        <div class="col-sm-auto  NotPrintable">
                                            <button onclick="Modal('Twitter','@post.ID')" data-toggle="modal" data-target="#ModalControl"
                                                    class="btn btn-block"
                                                    style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px ">
                                                <i class="fa fa-cog"></i>
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        }



                    }
                }
                else
                {
                    foreach (var post in ViewBag.TwitterData)
                    {
                        if (Request.Cookies["isListView"].Value.ToString() == "1")
                        {
                            @*<span>*@
                            <div class="card news-feed-card-bg smart-news-box">
                                <div class="card-content">
                                    <div class="card-body p-1">

                                        <blockquote style="margin:5px 12px" data-cards="hidden" align=left class="twitter-tweet" data-lang="en">

                                            <div class="row justify-content-md-center">

                                                @if (@post.ScreenName is null)
                                                {
                                                    <a href="http://twitter.com/@post.ScreenNameResponse/status/@post.StatusID"></a>
                                                }
                                                else
                                                {
                                                    <a href="http://twitter.com/@post.ScreenName/status/@post.StatusID"></a>
                                                }
                                                @if (@post.TwFullPicture != null)
                                                {
                                                    <div class="" style="width:100%; height:100%; overflow:hidden;">

                                                        <a href="@post.UrlEntity1" class="" target="_blank">
                                                            <img src="~/@post.TwFullPicture" onError="this.style.display = 'none';" style="width:100%; height:100%">
                                                            <a @*href="@post.UrlEntity1"*@> @post.FullText</a>
                                                        </a>



                                                    </div>
                                                }
                                                else
                                                {
                                                    <div style="display:flex; justify-content:space-between" class="col">
                                                        <h5 style="padding-top:6px" class="m-0 text-dark text-break text-wrap">
                                                            @if (@post.ScreenName is null)
                                                            {
                                                                @post.ScreenNameResponse
                                                            }
                                                            else
                                                            {
                                                                @post.ScreenName
                                                            }
                                                        </h5>
                                                        <div class="col-md-auto text-muted">
                                                            <p style="font-size:12px ;padding-top:6px">@post.CreatedAt</p>
                                                        </div>
                                                    </div>
                                                }
                                            </div>

                                        </blockquote>
                                    </div>
                                </div>
                                <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                    <div style="display:flex;align-items:center; justify-content:end" class="">
                                        <div class="col-sm-auto  NotPrintable">
                                            <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="@post.ID" style="width:19px !important;height: 19px; margin-top:0" />
                                        </div>
                                        <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">

                                            @if (post.Sentiment == null)
                                            {
                                                <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                            }
                                            else if (post.Sentiment == "Positive")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff;">Эерэг</div>

                                            }
                                            else if (post.Sentiment == "Negative")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; border-radius: 5px; color: #fff;">Сөрөг</div>
                                            }
                                            else if (post.Sentiment == "Neutral")
                                            {
                                                <div align="center" style="width:60px !important;height:25px; background:#6c757d; padding:3px; border-radius:5px; color:#fff;">Саармаг</div>
                                            }
                                        </div>
                                        <div class="col-sm-auto  NotPrintable">
                                            <button onclick="Modal('Twitter','@post.ID')" data-toggle="modal" data-target="#ModalControl"
                                                    class="btn btn-block"
                                                    style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px ">
                                                <i class="fa fa-cog"></i>
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            @*</span>*@
                        }
                        else
                        { @*<span>*@
                        <div class="card news-feed-card-bg smart-news-box">
                            <div class="card-content">
                                <div class="card-body p-1">
                                    <blockquote class="twitter-tweet" data-lang="en">
                                        @if (@post.ScreenName is null)
                                        {
                                            <a href="http://twitter.com/@post.ScreenNameResponse/status/@post.StatusID"></a>
                                        }
                                        else
                                        {
                                            <a href="http://twitter.com/@post.ScreenName/status/@post.StatusID"></a>
                                        }
                                    </blockquote>
                                </div>
                            </div>
                            <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                <div style="display:flex;align-items:center; justify-content:end" class="">
                                    <div class="col-sm-auto  NotPrintable">
                                        <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="@post.ID" style="width:19px !important;height: 19px; margin-top:0" />
                                    </div>
                                    <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">

                                        @if (post.Sentiment == null)
                                        {
                                            <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                        }
                                        else if (post.Sentiment == "Positive")
                                        {
                                            <div align="center" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff;">Эерэг</div>

                                        }
                                        else if (post.Sentiment == "Negative")
                                        {
                                            <div align="center" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; border-radius: 5px; color: #fff;">Сөрөг</div>
                                        }
                                        else if (post.Sentiment == "Neutral")
                                        {
                                            <div align="center" style="width:60px !important;height:25px; background:#6c757d; padding:3px; border-radius:5px; color:#fff;">Саармаг</div>
                                        }
                                    </div>
                                    <div class="col-sm-auto  NotPrintable">
                                        <button onclick="Modal('Twitter','@post.ID')" data-toggle="modal" data-target="#ModalControl"
                                                class="btn btn-block"
                                                style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px ">
                                            <i class="fa fa-cog"></i>
                                        </button>
                                    </div>

                                </div>
                            </div>
                        </div>
                        @* </span>*@
                    }
                }
            }
                <div id="tw_next">
                </div>
                <div id="tw_spinner"></div>
                @*<a id="viewAll2" class="view-more-btn">Цааш үзэх</a>*@
                <a onclick="next10TwData()" class="view-more-btn text-info NotPrintable">Цааш үзэх</a>
            </div>
        </div>

        <div class="col-sm-4 list-group3 mb-1" id="WebSiteLoad">
            <div class="card">
                <div class="card-body text-center"><h4 class="text-danger"><i class="fa fa-newspaper-o"></i> Сайт Сонины нийтлэлүүд</h4></div>
            </div>
            <div class="list-group3" id="WebSiteList" data-id="@ViewBag.WebLastID">
                @{
                    try
                    {
                        if (Context.Request.Cookies["isListView"] == null)
                        {
                            Context.Response.Cookies["isListView"].Value = "1";
                        }
                    }
                    catch
                    {
                        Context.Response.Cookies["isListView"].Value = "1";
                    }
                }
                @foreach (var post in ViewBag.WebSiteData)
                {
                    if (Request.Cookies["isListView"].Value.ToString() == "1")
                    {

                        <div class="card news-feed-card-bg text-black smart-news-box">
                            <div class="card-content">
                                <div class="card-body mb-2">
                                    <a href="@post.Url" target="_blank">
                                        <img src="~/@post.WbFullPicture" onError="this.style.display = 'none';" style="width:100%">
                                    </a>
                                    <div>
                                        <a href="@post.Url" class="text-dark" target="_blank" style=" float:left;"><b>@post.Title</b></a>
                                    </div>
                                    <div align="right" style="font-style:italic; color:#ccc;">@post.DateTime</div>
                                    <div style="text-align:justify;">
                                        <a href="@post.Url" class="text-dark" target="_blank">@post.Body</a>
                                    </div>
                                </div>
                            </div>
                            <div class="container" style=" border-top: 1px solid #e3ebf6;">
                                <div style="display:flex;align-items:center; justify-content:end" class="">
                                    <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto  NotPrintable">
                                        <input type="checkbox" class="checkbox form-check-input" data-type="WebSite" data-postid="@post.ID" style="width:19px !important;height: 19px; margin-top:0" />
                                    </div>

                                    <div class="col-sm-auto">
                                        @if (post.Sentiment == null)
                                        {
                                            <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                        }
                                        else if (post.Sentiment == "Positive")
                                        {
                                            <div align="center" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff;">Эерэг</div>

                                        }
                                        else if (post.Sentiment == "Negative")
                                        {
                                            <div align="center" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; border-radius: 5px; color: #fff;">Сөрөг</div>
                                        }
                                        else if (post.Sentiment == "Neutral")
                                        {
                                            <div align="center" style="width: 60px !important; height: 25px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff;">Саармаг</div>
                                        }
                                    </div>
                                    <div class="col-sm-auto  NotPrintable">
                                        <button onclick="Modal('WebSite','@post.ID')" align="center" class="btn btn-block" data-toggle="modal" data-target="#ModalControl"
                                                style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px">
                                            <i class="fa fa-cog"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <span>
                            <div class="card news-feed-card-bg text-black smart-news-box">
                                <div class="card-content">
                                    <div class="card-body mb-2">
                                        <a href="@post.Url" target="_blank">
                                            <img src="@post.CoverUrl" style="width:100%">
                                        </a>
                                        <div>
                                            <a href="@post.Url" class="text-dark" target="_blank" style=" float:left;"><b>@post.Title</b></a>
                                        </div>
                                        @*<div align="right" style="font-style:italic;"><a href="@post.Url" target="_blank">@post.Url</a></div>*@
                                        <div align="right" style="font-style:italic; color:#ccc;">@post.DateTime</div>
                                        <div style="text-align:justify;">
                                            <a href="@post.Url" class="text-dark" target="_blank">@post.Body</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="container " style=" border-top: 1px solid #e3ebf6;">
                                    <div style="display:flex;align-items:center; justify-content:end" class="">
                                        <div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto  NotPrintable">
                                            <input type="checkbox" class="checkbox form-check-input" data-type="WebSite" data-postid="@post.ID" style="width:19px !important;height: 19px; margin-top:0" />
                                        </div>

                                        <div class="col-sm-auto">
                                            @if (post.Sentiment == null)
                                            {
                                                <div align="right" style="width: 85px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff; text-align: center;">Тодорхойгүй</div>
                                            }
                                            else if (post.Sentiment == "Positive")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff;">Эерэг</div>

                                            }
                                            else if (post.Sentiment == "Negative")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #dc3545; padding: 3px; border-radius: 5px; color: #fff;">Сөрөг</div>
                                            }
                                            else if (post.Sentiment == "Neutral")
                                            {
                                                <div align="center" style="width: 60px !important; height: 25px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff;">Саармаг</div>
                                            }
                                        </div>
                                        <div class="col-sm-auto  NotPrintable">
                                            <button onclick="Modal('WebSite','@post.ID')" align="center" class="btn btn-block" data-toggle="modal" data-target="#ModalControl"
                                                    style="padding: 2px 0 0 4px; border-radius: 5px; color: #7081b9; font-size: 19px">
                                                <i class="fa fa-cog"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </span>
                    }
                }
            </div>
            <div id="web_next">
            </div>
            <div id="web_spinner"></div>
            @*<a id="viewAll3" class="view-more-btn">Цааш үзэх</a>*@
            <a onclick="next10WebData()" class="view-more-btn text-info NotPrintable">Цааш үзэх</a>
        </div>
    </div>
</div>
@*end fb tw web first main data*@
@*start back to top button*@
<button type="button"
        class="btn btn-danger btn-floating btn-lg NotPrintable"
        id="btn-back-to-top">
    <i class="fas fa-arrow-up"></i>
</button>
@*start back to top button*@
<div id="dialog"></div>
<div class="modal fade" id="commentModal" name="commentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content" style="background-color:#f5f1f1">
            <div style="margin:0; padding:0; display:block; font-family: Arial, Helvetica, sans-seri; font-size:12px; color:black; line-height:1.34">
                <div class="modal-header">
                    <div style="float:left; padding-right:10px;">
                        <input type="text" class="form-control" id="searchInp" placeholder="Хайлт хийх">
                    </div>
                    <div>
                        <a href="@Url.Action("WordCloud", "Home")?ID=@Model.ID" target="_blank" class="btn btn-danger text-white"><i class="fa fa-file-word-o"></i> Коммент Cloud</a>
                    </div>
                    <div style="float:left; padding-right:10px;">
                        <button class="btn btn-primary" onclick="searchTxt();">Хайх</button>
                    </div>
                </div>
                <div class="modal-body" id="commentMod">
                    <div class="container" id="comment" data-spy="scroll" data-target=".navbar" data-offset="50" style="width:100%; max-height:470px; overflow-y:scroll">
                        <div class="d-flex justify-content-center">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </div>
                    <div style="position:fixed; z-index:9999; top:0px; padding-top:12%; left:-30px; text-align:center; background:rgba(0,0,0,0.5);font-size:25px; width:110%; height:100%;color:#fff; display:none; line-height:200px;" id="search">
                        <div style="vertical-align: middle;">
                            Processing ...
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Гарах</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="ModalControl" class="modal fade" role="dialog">
    <div class="modal-dialog">
        @Html.Hidden("PostID")
        @Html.Hidden("Type")
        <!-- Modal content-->
        <div class="modal-content" style="border:none;border-radius:0;">
            <div class="modal-header border-0" style="color:#717686; background-color:#8997bd; border-radius:0;">
                <h4 class="modal-title"> <i class="fa-solid fa-sliders"></i> Удирдах</h4>
                <button type="button" class="btn-close white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row" style="margin-bottom:10px">
                        <div class="form-group">
                            <label>Төлөв:</label>
                            <select id="Sentiment" name="Sentiment" class="browser-default custom-select form-control" width="400" style="width:400px">
                                <option selected>Сонгох</option>
                                <option value="Positive">Эерэг</option>
                                <option value="Negative">Сөрөг</option>
                                <option value="Neutral">Саармаг</option>
                            </select>
                        </div>
                    </div>
                    <div class="row" style="margin-bottom:10px">
                        <button type="button" class="btn btn-success border-0" style="margin-right:10px; width:225px" onclick="Control(true)">Хадгалах</button>
                        <button type="button" class="btn btn-danger border-0" style="width:225px" onclick="Control(false)">Устгах</button>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>

</div>
<!--Only Website Data Body-->
<div class="container-fluid" id="main-bodyWebsiteOnly" style="display:none;">
    <br>

    <div id="webOnly_next">

    </div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <div id="webOnly_spinner"></div>
    <button onclick="Onlynext10WebData()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>
</div>

<!--Only Facebook Data Body-->
<div class="container-fluid" id="main-bodyFacebookOnly" style="display: none;  ">
    <br>
    <div @*style="display: grid; grid-template-columns: repeat(4, 1fr);"*@ id="fb_next1"> </div>

    <div id="webOnly_spinner"></div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <button onclick="Onlynext10FacebookData()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>
</div>
<!--Only Twitter Data Body-->
<div class="container-fluid" id="main-bodyTwitterOnly" style="display: none; ">
    <br>
    <div id="tw_next1">
    </div>
    <div id="webOnly_spinner"></div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <button onclick="Onlynext10TwitterData();" class="btn btn-light view-more-btn text-info"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>

</div>


<!--Only Twitter Data Body-->
<div id="main-bodyPaid" style="display:none;">
    <br>
    <div> <h4 style=" text-align: center;">Таны эрх хүрэлцэхгүй байна. </h4> </div>
</div>


<div class="container-fluid" id="main-bodyShowList" style="display:none;">
    <br>

    <div id="webOnly_next">

    </div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <div id="webOnly_spinner"></div>
    <button onclick="OnlynextShowList()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>
</div>






<!--Only Facebook List View -->
<div id="editor"></div>
<div class="container-fluid" id="OnlyFacebookListView" style="display: none; ">
    <br>
    <div id="ListOnlyFacebook">
    </div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <div id="webOnly_spinner"></div>
    <button onclick="OnlyListnext10FbData()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх  <i class="fa-solid fa-caret-down"></i></strong></button>
</div>

<div id="OnlyTwitterListView" style="display:none;">
    <br>
    <div @*style="display:grid; grid-template-columns: repeat(3, 1fr)"*@ id="ListOnlyTw"></div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <div id="webOnly_spinner"></div>
    <button onclick="OnlyListnext10TwData()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>


</div>
<div id="OnlyLinkListView" style="display:none;">
    <br>
    <div @*style="display:grid; grid-template-columns: repeat(3, 1fr)"*@ id="ListOnlylk"></div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <div id="webOnly_spinner"></div>
    <button onclick="OnlyListnext10TwData()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>


</div>

<div id="OnlyWebsiteListView" style="display: none;">
    <br>
    <div id="ListOnlyWeb">
        <span>
        </span>
    </div>
    <div class="loading">
        <div class="ball"></div>
        <div class="ball"></div>
        <div class="ball"></div>
    </div>
    <div id="webOnly_spinner"></div>
    <button onclick="OnlyListnext10WebData()" class="btn btn-light view-more-btn text-info NotPrintable"><strong>Цааш үзэх <i class="fa-solid fa-caret-down"></i></strong></button>
</div>

<!-- Modal -->
<div class="modal fade" id="searchModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="d-flex justify-content-center">
                    <div class="spinner-border" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </div>
                <p></p>
                <p id="Search-Result-Text-Modal" style=" text-align: center; "></p>

                <p id="Search-Result-CountDown" style=" text-align: center; "> </p>
            </div>

        </div>
    </div>
</div>

<!--2022-04-04 bulgaa-->
<!--date range picker-->
<script type="text/javascript">

    $(function () {
        var start = moment().subtract(29, 'days');
        var end = moment();

        function cb(start, end) {
            $('#reportrange ').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
            $('#date_start').val(start.format('MMMM D, YYYY'));
            $('#date_end').val(end.format('MMMM D, YYYY'));
        }

        $('#reportrange').daterangepicker({
            startDate: start,
            endDate: end,
            ranges: {
                'Today': [moment(), moment()],
                'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
            }
        }, cb);

        cb(start, end);

    });
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="~/Content/app-assets/css/plugins/apex-charts/apexcharts.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="~/Content/src/js/scripts/autoResizeFbPost.js"></script>

<script src="~/Content/src/js/scripts/choices.js"></script>
<script src="~/Content/src/js/scripts/flatpickr.js"></script>
<script src="~/Content/assets/plugins/apex-charts/apexcharts.min.js"></script>
<script src="~/Content/assets/plugins/apex-charts/irregular-data-series.js"></script>
<script src="~/Content/assets/plugins/apex-charts/ohlc.js"></script>


<script>
    flatpickr(".datepicker",
        {});

</script>
<script>
    var media23 = [@ViewBag.FBCount, @ViewBag.TWCount, @ViewBag.WBCount];
    var social = [100, 0, 0];
    var sentiment = [ @ViewBag.Positive, @ViewBag.Negative, @ViewBag.Neutral];
    var chart8_option = {
        series: media23,
        labels: ['Фэйсбүүк', 'Твитүүд', ' Сайт Сонин'],
        colors: ['#1877f2', '#00acee', '#f5325c', '#E91E63'],
        chart: {
            type: 'donut',
        },
        plotOptions: {
            pie: {
                donut: {
                    size: '70%'
                }
            }
        },
        stroke: {
            show: true,
            width: 2,
            colors: ['transparent']
        },
        dataLabels: {
            enabled: true,
            dropShadow: {
                enabled: false
            },
            style: {
                colors: ['#0fb36c', '#f55', '#6c757d']
            },
        },
        legend: {
            show: true,
            position: 'bottom',
        },
        responsive: [{
            breakpoint: 600,
            options: {
                chart: {
                    // height: 240
                },
            },
        }]
    };
    var chart8 = new ApexCharts(document.querySelector("#chart8"), chart8_option);
    chart8.render();
    var chart3_option = {
        series: sentiment,
        labels: ['Эерэг', 'Сөрөг', 'Саармаг'],
        colors: ['#0fb36c', '#f55', '#6c757d'],
        chart: {
            type: 'donut',
        },
        stroke: {
            show: false,
            width: 2,
            colors: ['transparent']
        },
        dataLabels: {
            enabled: true,
            dropShadow: {
                enabled: false
            },
            style: {
                fontSize: '12px',
                fontFamily: 'Roboto',
                fontWeight: 500,
                foreColor: '#000'
            },
        },
        legend: {
            show: true,
            position: 'bottom',
        },
        responsive: [{
            breakpoint: 600,
            options: {
                chart: {
                    // height: 240
                },
            },
        }]
    };
    var chart3 = new ApexCharts(document.querySelector("#chart3"), chart3_option);
    chart3.render();
    function Give() {
        var ss = document.getElementById("date_end").value;
        var ss2 = document.getElementById("date_start").value;
        var ss3 = ss2 + ' - ' + ss
        var x = document.getElementById("reportTitle").value;
        document.getElementById("Title").innerHTML = x;
        var o = ss3;
        document.getElementById("Date").innerHTML = o;
        var h = document.getElementById("report").value;
        document.getElementById("body").innerHTML = h;
    }
</script>
<script>
    const choices = new Choices('[data-trigger]',
        {
            searchEnabled: false,
            itemSelectText: '',
        });

</script>

<script>
    let mybutton = document.getElementById("btn-back-to-top");
    window.onscroll = function () {
        scrollFunction();
    };

    function scrollFunction() {
        if (
            document.body.scrollTop > 20 ||
            document.documentElement.scrollTop > 20
        ) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }
    mybutton.addEventListener("click", backToTop);

    function backToTop() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }

    function refreshFb() {
        var CusID = $("#SmartMain").attr("data-id");
        $.ajax({
            type: "GET",
            url: '/Home/FbLoadCus',
            data: { 'id': CusID },
            success: function (data) {
                $("#FbLoad").html(data);
            },
        });
    }

    function refreshTwitter() {

        var CusID = $("#SmartMain").attr("data-id");
        $.ajax({
            type: "GET",
            url: '/Home/TwitterLoadCus',
            data: { 'id': CusID },
            success: function (data) {
                $("#TwitterLoad").html(data);
            },
        });
    }

    function refreshWebSite() {
        var CusID = $("#SmartMain").attr("data-id");
        $.ajax({
            type: "GET",
            url: '/Home/WebSiteLoadCus',
            data: { 'id': CusID },
            success: function (data) {
                $("#WebSiteLoad").html(data);
            },
        });
    }

    function FbLastID() {
        if (isSearchDisplay == false) {
            var CusID = $("#SmartMain").attr("data-id");
            var PostID = $("#FbList").attr("data-id");
            $.ajax({
                type: "POST",
                url: '/Home/FbLastIDCus',
                data: { 'PostID': PostID, 'id': CusID },
                success: function (data) {
                    if (data == "no") {
                        refreshFb();
                        $('#post').autoResizeFbPost();
                        $('#FbList').autoResizeFbPost();
                    } else { }
                },
            });
        }
    }


    function TwitterLastID() {
        if (isSearchDisplay == false) {
            var CusID = $("#SmartMain").attr("data-id");
            var PostID = $("#TwitterList").attr("data-id");
            $.ajax({
                type: "POST",
                url: '/Home/TwitterLastIDCus',
                data: { 'PostID': PostID, 'id': CusID },
                success: function (data) {
                    // alert(data);
                    if (data == "no") {
                        refreshTwitter();
                    } else { }
                },
            });
        }
    }

    function WebLastID() {
        if (isSearchDisplay == false) {
            var CusID = $("#SmartMain").attr("data-id");
            var PostID = $("#WebSiteList").attr("data-id");
            $.ajax({
                type: "POST",
                url: '/Home/WebLastIDCus',
                data: { 'PostID': PostID, 'id': CusID },
                success: function (data) {
                    if (data == "no") {
                        refreshWebSite();
                    } else { }
                },
            });
        }
    }
    function CusAlllistID() {
        if (isSearchDisplay == false) {
            var CusID = $("#SmartMain").attr("data-id");
            var PostID = $("#main-body").attr("data-id");
            $.ajax({
                type: "POST",
                url: '/Home/SmartNewsCusAlllist',
                data: { 'PostID': PostID, 'id': CusID },
                success: function (data) {
                    if (data == "no") {
                        refreshWebSite();
                    } else { }
                },
            });
        }
    }

    setInterval(FbLastID, 32000);
    setInterval(TwitterLastID, 31000);
    setInterval(WebLastID, 34000);

    window.addEventListener('load', function () {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusMainGraph',
            data: { 'id': userID },
            success: function (data) {
                $("#MainGraph").html(data);
            },
        });
    });
    function sleep(duration) {
        return new Promise(resolve => {
            setTimeout(() => {
                resolve()
            }, duration * 1000)
        })
    }

    function GetComments() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusComments',
            data: { 'UserID': userID },
            success: function (data) {
                $("#comment").html(data);
            },
        });
    }
    var counterFb = 1;
    var counterTw = 1;
    var counterWeb = 1;

    function next10FbData() {
       var check = getCookie("isListView");

        var userID = document.getElementById("UserID").value;
        var spinData = '<div class="card"><div class="card-body"><div class="d-flex justify-content-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div><div></div>';
        $("#fb_spinner").html(spinData);
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusNextFbData',
            data: { 'UserID': userID, 'counter': counterFb },
            success: function (data) {
                $("#fb_spinner").html("");
                $("#fb_next").append(data);
                counterFb++;

                FB.XFBML.parse();

                let posts = document.querySelectorAll('.fb-post-wrap');
                let resizer = new autoResizeFBPost(posts);
                resizer.initialize();
            }
        })
    }
    function next10TwData() {
        var userID = document.getElementById("UserID").value;
        var spinData = '<div class="card"><div class="card-body"><div class="d-flex justify-content-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div><div></div>';
        $("#tw_spinner").html(spinData);
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusNextTwData',
            data: { 'UserID': userID, 'counter': counterTw },
            success: function (data) {
                $("#tw_spinner").html("");
                $("#tw_next").append(data);
                counterTw++;
            }
        });
    }

    function next10WebData() {
        var userID = document.getElementById("UserID").value;
        var spinData = '<div class="card"><div class="card-body"><div class="d-flex justify-content-center"><div class="spinner-border" role="status"><span class="sr-only">Loading...</span></div></div><div></div>';
        $("#web_spinner").html(spinData);
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusNextWebData',
            data: { 'UserID': userID, 'counter': counterWeb },
            success: function (data) {
                $("#web_spinner").html("");
                $("#WebSiteList").append(data);
                console.log("success:", data);
                counterWeb++;
            }
        });
    }

</script>
<script>
    var counterFbOnly = 0;
    var counterTwOnly = 0;
    var counterWebOnly = 0;
    var counterShowAllData = 0;

    const container = document.getElementById('main-bodyWebsiteOnly');
    const loading = document.querySelector('.loading');

        var list = "1";
        var ActivePage = "none";

    function ListView() {

        list = getCookie("isListView");
        $('#test1').val(1);



        if (list == "0") {
            setCookie('isListView', 1, 30);

            document.getElementById("lstview").style.display = "none"
            document.getElementById("grdview").style.display = "block"
            if (ActivePage == "Twitter") {
                OnlyTwitter();
            } else if (ActivePage == "Facebook") {
                OnlyFB();
            } else if (ActivePage == "Website") {
                OnlyWebsite();
            }
            else {
                ShowAllData();
                location.reload();
            }
        }
        else {
            setCookie('isListView', 0, 30);

            document.getElementById("lstview").style.display = "block"
            document.getElementById("grdview").style.display = "none"
            if (ActivePage == "Facebook") {
                OnlyFB();
            } else if (ActivePage == "Twitter") {
                OnlyTwitter();
            } else if (ActivePage == "Website") {
                OnlyWebsite();

            } else {
                ShowAllData();
                location.reload();
            }
        }

        console.log("test1 from ListVeiwFB:", $('#test1').val());
    }

    function ShowAllData() {
            ActivePage = "none";
        if
            (document.getElementById('main-body').style.display = 'block') {
            document.getElementById('main-bodyFacebookOnly').style.display = 'none';
            document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
            document.getElementById('main-bodyTwitterOnly').style.display = 'none';
            document.getElementById('main-bodyPaid').style.display = 'none';
            document.getElementById('OnlyFacebookListView').style.display = 'none';
            document.getElementById('OnlyTwitterListView').style.display = 'none';
            document.getElementById('OnlyWebsiteListView').style.display = 'none';
        }
    }
    function Paid() {
        if (document.getElementById('main-bodyFacebookOnly').style.display == 'none') {
            document.getElementById('main-body').style.display = 'none';
            document.getElementById('main-bodyFacebookOnly').style.display = 'none';
            document.getElementById('main-bodyShowList').style.display == 'none';
            document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
            document.getElementById('main-bodyTwitterOnly').style.display = 'none';
            document.getElementById('main-bodyPaid').style.display = 'block';
            document.getElementById('OnlyFacebookListView').style.display = 'none';
            document.getElementById('OnlyTwitterListView').style.display = 'none';
            document.getElementById('OnlyWebsiteListView').style.display = 'none';
        } else {
            document.getElementById('main-body').style.display = 'none';
            document.getElementById('main-bodyFacebookOnly').style.display = 'block';
            document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
            document.getElementById('main-bodyTwitterOnly').style.display = 'none';
            document.getElementById('main-bodyShowList').style.display == 'none';
            document.getElementById('OnlyFacebookListView').style.display = 'none';
            document.getElementById('OnlyTwitterListView').style.display = 'none';
            document.getElementById('OnlyWebsiteListView').style.display = 'none';

        }
    }

    //On Click show only Facebook
    function OnlyFB() {
        ActivePage = "Facebook";
        if (list == 1) {
            document.getElementById('main-body').style.display = 'none';
            document.getElementById('OnlyFacebookListView').style.display = 'block';
            document.getElementById('OnlyTwitterListView').style.display = 'none';
            document.getElementById('OnlyWebsiteListView').style.display = 'none';
            document.getElementById('main-bodyShowList').style.display == 'none';
            document.getElementById('main-bodyFacebookOnly').style.display = 'none';
            document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
            document.getElementById('main-bodyTwitterOnly').style.display = 'none';
            document.getElementById('main-bodyPaid').style.display = 'none';
            document.getElementById('main-bodyList').style.display = 'none';
            ListOnlynext10FacebookData();

        } else {
             if (document.getElementById('main-bodyFacebookOnly').style.display == 'none') {
                document.getElementById('main-body').style.display = 'none';
                document.getElementById('main-bodyFacebookOnly').style.display = 'block';
                document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
                document.getElementById('main-bodyTwitterOnly').style.display = 'none';
                 document.getElementById('main-bodyPaid').style.display = 'none';
                 document.getElementById('main-bodyList').style.display = 'none';
                 document.getElementById('main-bodyShowList').style.display == 'none';
                 document.getElementById('OnlyFacebookListView').style.display = 'none';
                 document.getElementById('OnlyTwitterListView').style.display = 'none';
                 document.getElementById('OnlyWebsiteListView').style.display = 'none';
                   Onlynext10FacebookData();
             }
        }
    }
    function Onlynext10FacebookData() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusOnlyFacebookData',
            data: { 'UserID': userID, 'counter': counterFbOnly },
            success: function (data) {

                $("#fb_next1").append(data);
                counterFbOnly++;
                FB.XFBML.parse();

                let posts = document.querySelectorAll('.fb-post-wrap');
                let resizer = new autoResizeFBPost(posts);
                resizer.initialize();
            }
        }
        );
    }
    function ListOnlynext10FacebookData() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusOnlyListFacebookData',
            data: { 'UserID': userID, 'counter': counterFbOnly },
            success: function (data) {

                $("#ListOnlyFacebook").append(data);
                counterFbOnly++;
                FB.XFBML.parse();

                let posts = document.querySelectorAll('.fb-post-wrap');
                let resizer = new autoResizeFBPost(posts);
                resizer.initialize();
            }
        }
        );
    }
    function OnlyListnext10FbData() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusOnlyListFacebookData',
            data: { 'UserID': userID, 'counter': counterWeb },
            success: function (data) {
                $("ListOnlyFacebook").append(data);
                counterWeb++;
            }
        });
    }
        //On Click show only Website
        function OnlyWebsite() {
            ActivePage = "Website";
        if (list == 1) {
            document.getElementById('main-body').style.display = 'none';
            document.getElementById('OnlyFacebookListView').style.display = 'none';
            document.getElementById('OnlyTwitterListView').style.display = 'none';
            document.getElementById('OnlyWebsiteListView').style.display = 'block';
            document.getElementById('main-body').style.display = 'none';
            document.getElementById('main-bodyFacebookOnly').style.display = 'none';
            document.getElementById('main-bodyShowList').style.display == 'none';
            document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
            document.getElementById('main-bodyTwitterOnly').style.display = 'none';
            document.getElementById('main-bodyPaid').style.display = 'none';
            document.getElementById('main-bodyList').style.display = 'none';
            ListOnlynext10WebData();

        } else {
            if (document.getElementById('main-bodyWebsiteOnly').style.display == 'none') {
                document.getElementById('main-body').style.display = 'none';
                document.getElementById('main-bodyPaid').style.display = 'none';
                document.getElementById('main-bodyWebsiteOnly').style.display = 'block';
                document.getElementById('main-bodyFacebookOnly').style.display = 'none';
                document.getElementById('main-bodyTwitterOnly').style.display = 'none';
                document.getElementById('main-bodyShowList').style.display == 'none';
                document.getElementById('OnlyFacebookListView').style.display = 'none';
                document.getElementById('OnlyTwitterListView').style.display = 'none';
                document.getElementById('OnlyWebsiteListView').style.display = 'none';
                Onlynext10WebData();
            }
        }
        }
        function ListOnlynext10WebData() {
            var userID = document.getElementById("UserID").value;
            $.ajax({
                type: "GET",
                url: '/Home/SmartNewsCusOnlyListWebData',
                data: { 'UserID': userID, 'counter': counterWeb },
                success: function (data) {
                    $("#ListOnlyWeb").append(data);
                    counterWeb++;
                }
            });
        }
        function Onlynext10WebData() {
            var userID = document.getElementById("UserID").value;
            $.ajax({
                type: "GET",
                url: '/Home/SmartNewsCusOnlyWebData',
                data: { 'UserID': userID, 'counter': counterWeb },
                success: function (data) {
                    $("#webOnly_next").append(data);
                    counterWeb++;
                }
            });
    }
    function OnlyListnext10WebData() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusOnlyListWebData',
            data: { 'UserID': userID, 'counter': counterWeb },
            success: function (data) {
                $("#ListOnlyWeb").append(data);
                counterWeb++;
            }
        });
    }

        //On Click show only Twitter
        function OnlyTwitter() {
            ActivePage = "Twitter";
            if (list == 1) {
                document.getElementById('main-body').style.display = 'none';
                document.getElementById('OnlyFacebookListView').style.display = 'none';
                document.getElementById('OnlyTwitterListView').style.display = 'block';
                document.getElementById('OnlyWebsiteListView').style.display = 'none';
                document.getElementById('main-body').style.display = 'none';
                document.getElementById('main-bodyFacebookOnly').style.display = 'none';
                document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
                document.getElementById('main-bodyTwitterOnly').style.display = 'none';
                document.getElementById('main-bodyPaid').style.display = 'none';
                document.getElementById('main-bodyList').style.display = 'none';
                document.getElementById('main-bodyShowList').style.display == 'none';
                ListOnlynext10TwitterData();
            } else {
            if (document.getElementById('main-bodyTwitterOnly').style.display == 'none') {
                document.getElementById('main-body').style.display = 'none';
                document.getElementById('main-bodyPaid').style.display = 'none';
                document.getElementById('main-bodyWebsiteOnly').style.display = 'none';
                document.getElementById('main-bodyFacebookOnly').style.display = 'none';
                document.getElementById('main-bodyTwitterOnly').style.display = 'block';
                document.getElementById('main-bodyShowList').style.display == 'none';
                document.getElementById('OnlyFacebookListView').style.display = 'none';
                document.getElementById('OnlyTwitterListView').style.display = 'none';
                document.getElementById('OnlyWebsiteListView').style.display = 'none';
                Onlynext10TwitterData();
            }

            }
        }
        function Onlynext10TwitterData() {
            var userID = document.getElementById("UserID").value;
            $.ajax({
                type: "GET",
                url: '/Home/SmartNewsCusOnlyTwitterData',
                data: { 'UserID': userID, 'counter': counterTw },
                success: function (data) {
                    $("#tw_next1").append(data);
                    counterTw++;
                }
            });
    }
        function ListOnlynext10TwitterData() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusOnlyListTwitterData',
            data: { 'UserID': userID, 'counter': counterTw },
            success: function (data) {
                $("#ListOnlyTw").append(data);
                counterTw++;
            }
        });
    }
    function OnlyListnext10TwData() {
        var userID = document.getElementById("UserID").value;
        $.ajax({
            type: "GET",
            url: '/Home/SmartNewsCusOnlyListTwitterData',
            data: { 'UserID': userID, 'counter': counterWeb },
            success: function (data) {
                $("#ListOnlyTw").append(data);
                counterWeb++;
            }
        });
    }

</script>
<!--bulgaa 2022-04-13 end-->
<script>
    function searchTxt() {
        if ($("#searchInp").val() == "") {
            alert("Хайх утгаа оруулна уу !!!");
        } else {
            $("#search").css("display", "block");
            $.ajax({
                type: "GET",
                url: '/Home/CommentSearchCus',
                data: { 'txt': $("#searchInp").val() },
                success: function (data) {
                    $("#comment").html(data);
                    $("#search").css("display", "none");
                },
                //error: function () {
                //    alert('Error occured');
                //}
            });
        }

    }
    var Sentiment = "default";
    $(".list-group1 span")
        .slice(0, 10)
        .show();
    $(".list-group1 span:hidden").css("opacity", 0);
    $("#viewAll1").on("click", function (e) {
        $(".list-group1 span:hidden")
            .slice(0, 10)
            .slideDown("slow")
            .animate(
                {
                    opacity: 1
                },
                {
                    queue: false,
                    duration: "slow"
                }
            );
        if ($(".list-group1 span:hidden").length == 0) {
            $("#viewAll1").fadeOut("slow");
        }
        e.preventDefault();
    });



    $(".list-group2 span")
        .slice(0, 4)
        .show();
    $(".list-group2 span:hidden").css("opacity", 0);
    $("#viewAll2").on("click", function (e) {
        $(".list-group2 span:hidden")
            .slice(0, 10)
            .slideDown("slow")
            .animate(
                {
                    opacity: 1
                },
                {
                    queue: false,
                    duration: "slow"
                }
            );
        if ($(".list-group2 span:hidden").length == 0) {
            $("#viewAll2").fadeOut("slow");
        }
        e.preventDefault();
    });


    $(".list-group3 span")
        .slice(0, 10)
        .show();
    $(".list-group3 span:hidden").css("opacity", 0);
    $("#viewAll3").on("click", function (e) {
        $(".list-group3 span:hidden")
            .slice(0, 10)
            .slideDown("slow")
            .animate(
                {
                    opacity: 1
                },
                {
                    queue: false,
                    duration: "slow"
                }
            );
        if ($(".list-group3 span:hidden").length == 0) {
            $("#viewAll3").fadeOut("slow")
        }
        e.preventDefault();
    });

    function SmartNewsCustomers(a) {
        Sentiment = a;
        var CusID = $("#SmartMain").attr("data-id");

        $.ajax({
            type: "POST",
            url: '/Home/SmartNewsCustomer',
            data: { 'id': CusID, 'Sentiment': a },
            success: function (data) {
                $("#SmartMain").html(data);
            },
            //error: function () {
            //    alert('error occured');
            //}
        });
    };

    function Filter(a) {
        var CusID = $("#SmartMain").attr("data-id");
        $.ajax({
            type: "POST",
            url: '/Home/SmartNewsCustomerFilter',
            data: { 'id': CusID, 'Filter': a, 'Sentiment': Sentiment },
            success: function (data) {
                $("#SmartMain").html("");
                $("#SmartMain").append(data);

                FB.XFBML.parse();

                let posts = document.querySelectorAll('.fb-post-wrap');
                let resizer = new autoResizeFBPost(posts);
                resizer.initialize();
            },
        });
    };
    function Modal(type, ID) {
     //   alert(type);
     //   alert(ID);
        $('#PostID').val(ID);
        $('#Type').val(type);

        $("#ModalControl").modal('show');
    }
    //hosoo 2022-04-21 begin

 //2022-04-21 hosoo end checkbutton newew eyreg sorog saarmag ustgah control
    function Control(IsEdit) {
        if (IsEdit == false) {
            if (window.confirm("Та устгахдаа итгэлтэй байна уу?") == false)
                return;
        }


        var PostID = $("#PostID").val();
        var Type = $("#Type").val();
     @*   var PostID = 'all';
        var Type = 'all';*@
        var Sentiment = $('#Sentiment').val();
        console.log(Sentiment)
        var UserId = document.getElementById("UserID").value;

        if (Type == 'all') {
            var checkboxes = document.querySelectorAll('.checkbox[type=checkbox]:checked')
            for (var i = 0; i < checkboxes.length; i++) {
                console.log(checkboxes[i].getAttribute('data-type'));
                console.log(checkboxes[i].getAttribute('data-postId'));

                Type = checkboxes[i].getAttribute('data-type');
                PostID = checkboxes[i].getAttribute('data-postId');

                $.ajax({
                    type: "POST",
                    url: '/Home/Control',
                    async: false,
                    data: { 'PostID': PostID, 'Type': Type, 'Sentiment': Sentiment, 'IsEdit': IsEdit, 'UserId': UserId },
                    success: function (data) {
                        //console.log(data);
                        //alert("Үйлдлийн амжилттай хийж дуусгалаа!");
                        //$('#ModalControl').modal('hide');
                        console.log(i + ': succeed');
                    },
                    error: function () {
                        alert('Алдаа гарлаа');
                    }
                });
                new Promise(done => setTimeout(() => done(), 500));
            }
            alert("Үйлдлийн амжилттай хийж дуусгалаа!");
            location.reload();
            $('#ModalControl').modal('hide');
            checkCheckbox(false);
            return;
        }

        $.ajax({
            type: "POST",
            url: '/Home/Control',
            data: { 'PostID': PostID, 'Type': Type, 'Sentiment': Sentiment, 'IsEdit': IsEdit, 'UserId': UserId },
            success: function (data) {
                //console.log(data);
                alert("Үйлдлийн амжилттай хийж дуусгалаа!");
                $('#ModalControl').modal('hide');
                checkCheckbox(false);
            },
            error: function () {
                alert('Алдаа гарлаа');
            }
        });
    }
    function NewControl(IsEdit, sentimentValue) {
        if (IsEdit == false) {
            if (window.confirm("Та устгахдаа итгэлтэй байна уу?") == false)
                return;
        }
        var Sentiment = sentimentValue;
        var UserId = document.getElementById("UserID").value;
        var checkboxes;
        switch (ActivePage) {
            case "none":
                checkboxes = document.getElementById('main-body').querySelectorAll('.checkbox[type=checkbox]:checked');
                break;
            case "Facebook":
                checkboxes = document.getElementById('main-bodyFacebookOnly').querySelectorAll('.checkbox[type=checkbox]:checked');
                break;
            case "Twitter":
                checkboxes = document.getElementById('main-bodyTwitterOnly').querySelectorAll('.checkbox[type=checkbox]:checked');
                break;
            case "Website":
                checkboxes = document.getElementById('main-bodyWebsiteOnly').querySelectorAll('.checkbox[type=checkbox]:checked');
                break;
            case "Facebook":
                checkboxes = document.getElementById('OnlyFacebookListView').querySelectorAll('.checkbox[type=checkbox]:checked');
                break;
            case "Twitter":
                checkboxes = document.getElementById('OnlyTwitterListView').querySelectorAll('.checkbox[type=checkbox]:checked');
                break;
            case "Website":
                checkboxes = document.getElementById('OnlyWebsiteListView').querySelectorAll('.checkbox[type=checkbox]:checked');
        }

        for (var i = 0; i < checkboxes.length; i++) {
            console.log(checkboxes[i].getAttribute('data-type'));
            console.log(checkboxes[i].getAttribute('data-postId'));

            Type = checkboxes[i].getAttribute('data-type');
            PostID = checkboxes[i].getAttribute('data-postId');

            $.ajax({
                type: "POST",
                url: '/Home/Control',
                async: false,
                data: { 'PostID': PostID, 'Type': Type, 'Sentiment': Sentiment, 'IsEdit': IsEdit, 'UserId': UserId },
                success: function (data) {
                    console.log(i + ': succeed');
                },
                error: function () {
                    alert('Алдаа гарлаа');
                }
            });
            new Promise(done => setTimeout(() => done(), 500));
        }
        alert("Үйлдлийн амжилттай хийж дуусгалаа!");
        checkCheckbox(false);

        @* $.ajax({
                type: "POST",
                url: '/Home/Control',
                data: { 'PostID': PostID, 'Type': Type, 'Sentiment': Sentiment, 'IsEdit': IsEdit, 'UserId': UserId },
                success: function (data) {
                    console.log(data); -->
                        alert("Үйлдлийн амжилттай хийж дуусгалаа!");
                    $('#ModalControl').modal('hide');
                    checkCheckbox(false);
                },
                error: function () {
                    alert('Алдаа гарлаа');
                }
            });*@

    }

    var typeAll = false;
    function checkCheckbox(value) {
        var checkboxes = document.querySelectorAll('.checkbox[type=checkbox]')
        for (var i = 0; i < checkboxes.length; i++) {
            checkboxes[i].checked = value;
        }
        typeAll = value;
    }

    $("#type-selector").change(function () {
        if ($("#type-selector").val() == 'list') {
            var UserId = document.getElementById("UserID").value;
            document.getElementById('main-body').style.display = "none";
            $.ajax({
                type: "POST",
                url: '/Home/SmartNewsCusList',
                data: { 'ID': UserId },
                success: function (data) {
                    $("#main-body").html(data);
                    //console.log(data);
                },
            });
        }
    });

    var isSearchDisplay = false;
    var jsonData;
    var jsonDataInDisplay;
    var lastFbIndex = 0;
    var lastTwIndex = 0;
    var lastWbIndex = 0;
@*    $('#searchModal').modal({
        backdrop: 'static',
        keyboard: false
    });*@
    $("#btn_search").click(function () {
        $('#searchModal').modal('show'@*, { backdrop: 'static', keyboard: false }*@);
        $("#FbList").empty();
        $("#TwitterList").empty();
        $("#WebSiteList").empty();
        $("#OnlyFacebookListView").empty();
        $("#OnlyTwitterListView").empty();
        $("#OnlyWebsiteListView").empty();
        $("#main-bodyFacebookOnly").empty();
        $("#main-bodyTwitterOnly").empty();
        $("#main-bodyWebsiteOnly").empty();
        var personID = document.getElementById("UserID").value;
        var searchStr = $("#input_search").val();
        var startDate = $("#date_start").val();
        var endDate = $("#date_end").val();
        var duplicated = $("#select_duplicated").val();
        var sentiment = $("#select_sentiment").val();

        if (startDate == "") {
            alert('Хайлтын эхлэх огноог сонгоно уу!');
            $("#date_start").focus();
            return;
        }
        if (endDate == "") {
            alert('Хайлтын сүүлийн огноог сонгоно уу!');
            $("#date_end").focus();
            return;
        }

        $.ajax({
            type: "GET",
            url: '/Home/SearchByMultipleFields',
            data: { 'personID': personID, 'searchText': searchStr, 'startDate': startDate, 'endDate': endDate, 'Sentiment': sentiment },
            success: function (data) {
                jsonData = data;
                console.log(jsonData);
                //Хайлтийн илэрц дуусах хугацааг тооцоолж буй хэсэг
                var numb = jsonData[0].Value.length * 1 + jsonData[1].Value.length * 0.2 + jsonData[0].Value.length * 0.1;
                numb = numb.toFixed();
                var ResultAmountData = numb;
                var ResultTotal = jsonData[0].Value.length + jsonData[1].Value.length + jsonData[2].Value.length;
                var time = numb;
                const countDownEl = document.getElementById("Search-Result-CountDown");
                setInterval(updateCountdown, 1000);
                function updateCountdown() {
                    const minutes = Math.floor(time / 60);
                    let seconds = time % 60;

                    seconds = seconds < 10 ? '0' + seconds : seconds;
                    countDownEl.innerHTML = `Хайлт дуусахад: ${minutes}: ${seconds}`;
                    if (time < 1) {
                        clearInterval(updateCountdown);
                        countDownEl.innerHTML = `Хайлт дууссан`;
                        $('#searchModal').modal('hide');
                    } else {
                        time--;
                    }
                }
                $("#chart8").empty();
                $("#chart3").empty();
                $("#SearchPositive").text(JSON.stringify(jsonData[3]['Value']));
                $("#SearchNegative").text(JSON.stringify(jsonData[4]['Value']));
                $("#SearchNeutral").text(JSON.stringify(jsonData[5]['Value']));
                $("#SearchFBCount").text(JSON.stringify(jsonData[6]['Value']));
                $("#SearchTWCount").text(JSON.stringify(jsonData[7]['Value']));
                $("#SearchWBCount").text(JSON.stringify(jsonData[8]['Value']));

                var b1 = parseInt(JSON.stringify(jsonData[6]['Value']));
                var b2 = parseInt(JSON.stringify(jsonData[7]['Value']));
                var b3 = parseInt(JSON.stringify(jsonData[8]['Value']));
                var b4 = parseInt(JSON.stringify(jsonData[3]['Value']));
                var b5 = parseInt(JSON.stringify(jsonData[4]['Value']));
                var b6 = parseInt(JSON.stringify(jsonData[5]['Value']));
                chart8_option = {
                    series: [b1, b2, b3],
                    labels: ['Фэйсбүүк постууд', 'Твитүүд', ' Сайтын нийтлэлүүд'],
                    colors: ['#1877f2', '#00acee', '#f5325c', '#E91E63'],
                    chart: {
                        type: 'donut',
                    },
                    plotOptions: {
                        pie: {
                            donut: {
                                size: '70%'
                            }
                        }
                    },
                    stroke: {
                        show: true,
                        width: 2,
                        colors: ['transparent']
                    },
                    dataLabels: {
                        enabled: true,
                        dropShadow: {
                            enabled: false
                        },
                        style: {
                            fontSize: '12px',
                            fontFamily: 'Roboto',
                            fontWeight: 500
                        },
                    },
                    legend: {
                        show: true,
                        position: 'bottom',
                    },
                    responsive: [{
                        breakpoint: 600,
                        options: {
                            chart: {
                                // height: 240
                            },
                        },
                    }]
                };
                chart8 = new ApexCharts(document.querySelector("#chart8"), chart8_option);
                chart8.render();

                chart3_option = {
                    series: [b4, b5, b6],
                    labels: ['Эерэг', 'Сөрөг', 'Саармаг'],
                    colors: ['#0fb36c', '#ff5555', '#6c757d'],
                    chart: {
                        type: 'donut',
                    },
                    stroke: {
                        show: false,
                        width: 2,
                        colors: ['transparent']
                    },
                    dataLabels: {
                        enabled: true,
                        dropShadow: {
                            enabled: false
                        },
                        style: {
                            fontSize: '12px',
                            fontFamily: 'Roboto',
                            fontWeight: 500,
                            foreColor: '#000'
                        },
                    },
                    legend: {
                        show: true,
                        position: 'bottom',
                    },
                    responsive: [{
                        breakpoint: 600,
                        options: {
                            chart: {
                                // height: 240
                            },
                        },
                    }]
                };
                chart3 = new ApexCharts(document.querySelector("#chart3"), chart3_option);
                chart3.render();
                document.getElementById("Search-Result-Text").innerHTML = "Нийт илэрц: " + ResultTotal + " (" + ResultAmountData + " секунд" + ") ";
                document.getElementById("Search-Result-Text-Modal").innerHTML = "Нийт илэрц: " + ResultTotal + " (" + ResultAmountData + " секунд" + ") ";
                //Хайлтийн илэрц төгсгөл

                //async function ашиглаж хайх button дарагдсаны дараа тухайн div-г id гаар хайж цэвэрлээд дараа нь json-оор html угсарч буй function-ууд

                displayFb();
                displayTw();
                displayWb();

                displayWbOnlyList();
                displayTwOnlyList();
                displayFbOnlyList();

                displayWbOnly();
                displayTwOnly();
                displayFbOnly();

                checkCheckbox(false);
            },
            error: function () {
                alert('Алдаа гарлаа');
            }
        });
    }
    );

    var isSearchDisplay = false;
    $("#btn_hide_search").click(function () {
        isSearchDisplay = !isSearchDisplay;
        //alert(isSecureContext);
        if (isSecureContext == true) {
            //$("#frm_search").removeAttr("style");
            //$("frm_search").attr('style', 'display:block');
            $("#frm_search").show();
            //alert("true is working");
        }
        else {
            //$("frm_search").removeAttr("style");
            //$("frm_search").attr('style', 'display:none');
            $("#frm_search").hide();
        }
    }
    );

    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function displayFbOnlyList() {
        var getListType = getCookie("isListView");
        var jsonD = JSON.parse(JSON.stringify(jsonData[0]));
        //console.log(jsonD.Value);
        //var index = 0;
        //for (var index = lastFbIndex; index < lastFbIndex + 5; index++) {
        //for (var index = 0; index < jsonD.length - 1; index++) {
        var htmlStr = ''
        if (getListType == 1) {
            for (var index = 0; index < jsonD.Value.length; index++) {
                htmlStr = '<div style="border-radius: 10px; " class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content mb-1" name="post">' +
                    '<div class="card-body">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                    ((jsonD.Value[index].FullPicture != null) ? '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="" target="_blank"><img src="/' + jsonD.Value[index].FullPicture + '" onError="this.style.display="none";" style="width:100%; height:100%"></a>' : '') +
                    '</div>' +
                    '<div style="line-height:18px;">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].FromID + '" class="float-left" style="color:#0067D4 !important" target="_blank">' +
                    jsonD.Value[index].FromName +
                    '</a><br>' +
                    '<div class="float-right" style="font-style:italic; color:#ccc;">' + jsonD.Value[index].UpdateTime + '</div><br />' +
                    '<div style="text-align:justify; margin-bottom:10px">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="float-left text-dark" target="_blank">' +
                    ((jsonD.Value[index].Message != null) ? jsonD.Value[index].Message : '') +
                    ((jsonD.Value[index].Story != null) ? jsonD.Value[index].Story : '') +
                    ((jsonD.Value[index].Caption != null) ? jsonD.Value[index].Caption : '') +
                    ((jsonD.Value[index].Description != null) ? ' <a href="' + jsonD.Value[index].ID + '"></a>' + jsonD.Value[index].Description : '') +
                    '</a>' +
                    '</div>'
                '</div>' +
                    '</div>' +
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="">' +
                    '<div class=" col-sm-auto">' +
                    '<input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px; margin-top:0" />' +
                    '</div>' +
                    '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '<div class="col-sm-auto">' +
                    `<button onclick="Modal('Facebook','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 4px ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>';

                $("#OnlyFacebookListView").append(htmlStr);
                FB.XFBML.parse();
                await new Promise(done => setTimeout(() => done(), 1000));
            }

        }
        else {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart =
                    '<div class="col mt-4" v-for="post in posts" v-bind:key="post.id">' +
                    '<div style="width:80%; margin:auto" class="card name="post">';

                var strMiddle =
                    '<div class="card-body pb-0">' +
                    '<div class="blog-card">' +
                    '<div class="d-flex justify-content-between">' +
                    '<div class="data-post-image text-center">' +
                    ((jsonD.Value[index].FullPicture != null) ?
                        '<a href="' + jsonD.Value[index].Link + '" class="" target="_blank">' +
                        '<img src="~/' + jsonD.Value[index].FullPicture + '" style="width:100%; height:100%">' +
                        '</a>' : "") +
                    '</div>' +
                    '<div class="col">' +
                    '<div class="row mb-1">' +
                    '<div class="col mt-1">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].FromID + '" class="float-left" style="color:#0067D4 !important" target="_blank">' +
                    jsonD.Value[index].FromName +
                    '</a><br>' +
                    '</div>' +
                    '<div class="col-md-auto text-muted" >' +
                    '<p style="font-size:12px ;padding-top:6px">' + fixDateTime(jsonD.Value[index].UpdateTime) + '</p><br />' +
                    '</div>' +
                    '<div class="col-md-auto text-end">' +
                    ' <a style="color: #4267B2; font-size: 22px; padding: 0px 8px " href="#" target="_blank">  <i class="fa-brands fa-facebook"></i></a>' +
                    '</div>' + '</div>' +

                    '<div style="text-align:justify; margin-bottom:10px">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="float-left text-dark" target="_blank">' +
                    ((jsonD.Value[index].Message != null) ? jsonD.Value[index].Message : '') +
                    ((jsonD.Value[index].Story != null) ? jsonD.Value[index].Story : '') +
                    ((jsonD.Value[index].Caption != null) ? jsonD.Value[index].Caption : '') +
                    ((jsonD.Value[index].Description != null) ? ' <a href="' + jsonD.Value[index].ID + '"></a>' + jsonD.Value[index].Description : '') +
                    '</a>' +
                    '</div>'



                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    '<input style="width: 19px !important; height: 19px;" type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="' + jsonD.Value[index].ID + '"/>' +
                    '</div>' +
                    '<div class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '</div>' +
                    '<div class="col-sm-auto">' +
                    `<button onclick="Modal('Facebook','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 4px ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' + '</div>' + '</div>' + '</div>' + '</div>' + '</div>' + '</div>' + '</div>' + '</div>'



                htmlStr += strStart + ' ' + strMiddle + ' ' + strLast;

                $("#OnlyFacebookListView").append(htmlStr);
                FB.XFBML.parse();
                await new Promise(done => setTimeout(() => done(), 1000));
            }
        }

    }

    async function displayFb() {
        var getListType = getCookie("isListView");
        var jsonD = JSON.parse(JSON.stringify(jsonData[0]));
        var htmlStr = "";
        if (getListType == 1) {
            for (var index = 0; index < jsonD.Value.length; index++) {
                htmlStr = '<div style="border-radius: 10px; " class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content mb-1" name="post">' +
                    '<div class="card-body">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                    ((jsonD.Value[index].FullPicture != null) ? '<a  href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="" target="_blank"><img src="/' + jsonD.Value[index].FullPicture + '" style="width:100%; height:100%"></a>' : '') +
                    '</div>' +
                    '<div style="line-height:18px;">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].FromID + '" class="float-left" style="color:#0067D4 !important" target="_blank">' +
                    jsonD.Value[index].FromName +
                    '</a><br>' +
                    '<div class="float-right" style="font-style:italic; color:#ccc;">' + fixDateTime(jsonD.Value[index].UpdateTime) + '</div><br />' +
                    '<div style="text-align:justify; margin-bottom:10px">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="float-left text-dark" target="_blank">' +
                    ((jsonD.Value[index].Message != null) ? jsonD.Value[index].Message : '') +
                    ((jsonD.Value[index].Story != null) ? jsonD.Value[index].Story : '') +
                    ((jsonD.Value[index].Caption != null) ? jsonD.Value[index].Caption : '') +
                    ((jsonD.Value[index].Description != null) ? ' <a href="' + jsonD.Value[index].ID + '"></a>' + jsonD.Value[index].Description : '') +
                    '</a>' +
                    '</div>'+
                '</div>' +
                    '</div>' +
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class=" col-sm-auto">' +
                    '<input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px; margin-top:0" />' +
                    '</div>' +
                    '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto row">' +
                    '<div class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 60px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; margin-top: 3px; ">Эерэг' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; margin-top: 3px;">Сөрөг' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:60px !important; text-align:center; height: 25px; background: #6c757d; padding: 3px; border-radius:5px; margin-top: 3px; color: #fff; ">Саармаг' : '') +
                    '</div >' +
                    '</div >' +
                    '<div class="col-sm-auto">' +
                    `<button onclick="Modal('Facebook','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 4px ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>';

                $("#FbList").append(htmlStr);
                FB.XFBML.parse();
                await new Promise(done => setTimeout(() => done(), 1000));
            }

        }
        else {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart = '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content mb-1" name="post">';


                var strMiddle = "";

                if (!jsonD.Value[index].PermalinkUrl.includes("group")) {
                    strMiddle = strMiddle.concat(
                        '<div class="card-body">' +
                        '<div class="fb-post" data-href="' + jsonD.Value[index].PermalinkUrl + '" data-width="auto"></div>' +
                        '</div>');
                }
                else {
                    strMiddle = strMiddle.concat(
                        '<div class="card-body">' +
                        '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                        ((jsonD.Value[index].FullPicture != null) ?
                            '<a href="' + jsonD.Value[index].Link + '" class="" target="_blank">' +
                            '<img src="' + jsonD.Value[index].FullPicture + '" style="width:100%; height:100%">' +
                            '</a>' : "") +
                        '</div>' +
                        '<div style="line-height:18px;">' +
                        '<a href="https://www.facebook.com/' + jsonD.Value[index].FromID + '" class="float-left" style="color:#0067D4 !important" target="_blank">' +
                        jsonD.Value[index].FromName +
                        '</a><br>' +
                        '<div class="float-right" style="font-style:italic; color:#ccc;">' + fixDateTime(jsonD.Value[index].UpdateTime) + '</div><br />' +
                        '<div style="text-align:justify;">' +
                        '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="float-left text-dark" target="_blank">' +
                        ((jsonD.Value[index].Message != null) ? jsonD.Value[index].Message : '') +
                        ((jsonD.Value[index].Story != null) ? jsonD.Value[index].Story : '') +
                        ((jsonD.Value[index].Caption != null) ? jsonD.Value[index].Caption : '') +
                        ((jsonD.Value[index].Description != null) ? ' <a href="' + jsonD.Value[index].ID + '"></a>' + jsonD.Value[index].Description : '') +
                        '</a>' +
                        '</div>' +
                        '</div>' +
                        '</div>');
                }
                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    '<input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    `<button onclick="Modal('Facebook','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '<div class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 60px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; margin-top: 3px; ">Эерэг' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; margin-top: 3px;">Сөрөг' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:60px !important; text-align:center; height: 25px; background: #6c757d; padding: 3px; border-radius:5px; margin-top: 3px; color: #fff; ">Саармаг' : '') +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</span >';

                htmlStr = strStart + ' ' + strMiddle + ' ' + strLast;

                $("#FbList").append(htmlStr);
                FB.XFBML.parse();
                await new Promise(done => setTimeout(() => done(), 1000));
            }
        }
    }

    async function displayTw() {
        var getListType = getCookie("isListView");
        var jsonD = JSON.parse(JSON.stringify(jsonData[1]));
        //var index = 0;

        //for (var index = lastTwIndex; index < lastTwIndex + 5; index++) {
        var htmlStr = "";
        var jsonD = JSON.parse(JSON.stringify(jsonData[1]));
        //console.log(jsonD.Value);
        //var index = 0;
        //onclick="goToURL(((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + ' / status / ' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + ' / status / ' + jsonD.Value[index].StatusID));"
        //for (var index = lastTwIndex; index < lastTwIndex + 5; index++) {
        var htmlStr = "";
        if (getListType == "1") {
            for (var index = 0; index < jsonD.Value.length; index++) {

                htmlStr =
                    '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">'+
                '<div class="card-content">'+
                    '<div class="card-body p-1">' +
                    '<blockquote style="margin:5px 12px" data-cards="hidden" align=left class="twitter-tweet" data-lang="en">' +
                    '<div class="row justify-content-md-center">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                '<a href="' + jsonD.Value[index].UrlEntity1 + '" class="" target="_blank">' +

                    '<img src="/' + jsonD.Value[index].TwFullPicture + '" onError="this.style.display = none;" style="width:100%; height:100%">' +
                    '<a>' + jsonD.Value[index].FullText + '</a>' +
                '</a>' +
                    '</a>' +
                    '</div>' +
                    '</div>' +
                    '</blockquote>' +
                    '</div>' +
                    '</div>' +
                '</div>' +
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">'+
                    '<div class="col-sm-auto">' +
                    ' <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px;margin-top:0"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 60px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; margin-top: 3px; ">Эерэг' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; margin-top: 3px;">Сөрөг' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:60px !important; text-align:center; height: 25px; background: #6c757d; padding: 3px; border-radius:5px; margin-top: 3px; color: #fff; ">Саармаг' : '') +
                    '</div >' +
                    '</div>' +
                    '<div  class="col-sm-auto">' +
                    `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +

                    '</span>';

                $("#TwitterList").append(htmlStr);
                twttr.widgets.load();
                await new Promise(done => setTimeout(() => done(), 200));
            }
        }
        else {
            for (var index = 0; index < jsonD.Value.length; index++) {

                htmlStr =
                    '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content">' +
                    '<div class="card-body p-1">' +
                    '<blockquote style="margin:5px 12px" data-cards="hidden" align=left class="twitter-tweet" data-lang="en">' +
                    '<div class="row justify-content-md-center">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                    '<a href="' + jsonD.Value[index].UrlEntity1 + '" class="" target="_blank">' +

                    '<img src="/' + jsonD.Value[index].TwFullPicture + '" onError="this.style.display = none;" style="width:100%; height:100%">' +
                    '<a>' + jsonD.Value[index].FullText + '</a>' +
                    '</a>' +
                    '</a>' +
                    '</div>' +
                    '</div>' +
                    '</blockquote>' +
                    '</div>' +
                    '</div>' +
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    ' <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px;margin-top:0"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 60px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; margin-top: 3px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; margin-top: 3px;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:60px !important; text-align:center; height: 25px; background: #6c757d; padding: 3px; border-radius:5px; margin-top: 3px; color: #fff; ">' : '') +
                    '</div >' +
                    '</div>' +
                    '<div  class="col-sm-auto">' +
                    `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>'
                    '</span>';

                $("#TwitterList").append(htmlStr);
                twttr.widgets.load();
                await new Promise(done => setTimeout(() => done(), 200));
            }
        }
        @*for (var index = 0; index < jsonD.Value.length; index++) {

            var strStart = '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">' +
                '<div class="card-content">' +
                '<div class="card-body p-1">' +
                '<blockquote class="twitter-tweet" data-lang="en">' +
                ' <a href="http://twitter.com/' +
                ((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + '/status/' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + '/status/' + jsonD.Value[index].StatusID) +
                '"></a>' +
                '</blockquote>' +
                '</div>' +
                '</div>';


            var strLast =
                '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                '<div class="col-sm-auto">' +
                '<input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px"/>' +
                '</div>' +

                '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                '</div >' +
                '</div>' +
                '<div  class="col-sm-auto" >' +
                `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block"  style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</span>';

            htmlStr = strStart + ' ' + strLast;
            $("#TwitterList").append(htmlStr);
            twttr.widgets.load();
            await new Promise(done => setTimeout(() => done(), 200));
        }*@
    }
    @*хайлт хийсний дараа харагдах view wb*@
    async function displayWb() {
        var jsonD = JSON.parse(JSON.stringify(jsonData[2]));
        var htmlStr = "";
        for (var index = 0; index < jsonD.Value.length; index++) {

            var strStart = '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">' +
                '<div class="card-content">' +
                '<div class="card-body mb-2">' +
                '<a href="' + jsonD.Value[index].Url + '" target="_blank">' +
                '<img src="/' + jsonD.Value[index].WbFullPicture + '" style="width:100%">' +
                '</a>' +
                '<div>' +
                '<a href="' + jsonD.Value[index].Url + '" class="text-dark" target="_blank" style=" float:left;"><b>' + jsonD.Value[index].Title + '</b></a>' +
                '</div>' +
                '<div align="right" style="font-style:italic;"><a href="' + jsonD.Value[index].Url + '" target="_blank">' + jsonD.Value[index].Url + '</a></div>' +
                '<div align="right" style="font-style:italic; color:#ccc;">' + fixDateTime(jsonD.Value[index].DateTime) + '</div>' +
                '<div style="text-align:justify;">' +
                '<a href="' + jsonD.Value[index].Url + '" class="text - dark" target="_blank">' + jsonD.Value[index].Body + '</a>' +
                '</div>' +
                '</div>';


            var strLast =
                '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                '<div class="col-sm-auto">' +
                '<input type="checkbox" class="checkbox form-check-input"  data-type="WebSite" data-postid="' + jsonD.Value[index].ID + '"style="width: 19px !important; height: 19px; margin-top: 0"/>' +
                '</div>' +
                '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 60px !important; height: 25px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; margin-top: 3px; ">Эерэг' : '') +
                ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 60px !important; text-align:center; height: 25px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; margin-top: 3px;">Сөрөг' : '') +
                ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:60px !important; text-align:center; height: 25px; background: #6c757d; padding: 3px; border-radius:5px; margin-top: 3px; color: #fff; ">Саармаг' : '') +
                '</div >' +
                '</div>' +
                '<div class="col-sm-auto">' +
                `<button onclick="Modal('WebSite','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn  btn-block" style="padding: 2px 0 0 4px ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</span>';
            

            htmlStr = strStart + ' ' + strLast;
            counterWeb = 3;
            $("#WebSiteList").append(htmlStr);
            await new Promise((resolve) => setTimeout(resolve, 100));
        }
    }
    //bulgaa 2022-05-05 begin search engine web adding only web
    async function displayWbOnly() {
        var jsonD = JSON.parse(JSON.stringify(jsonData[2]));
        console.log(jsonD.Value);
        //var index = 0;

        //for (var index = lastWbIndex; index < lastWbIndex + 5; index++) {
        var htmlStr = "";
        for (var index = 0; index < jsonD.Value.length; index++) {

            var strStart = '<div style="break-inside: avoid; margin-bottom: 1rem;">' +
                '<div class="card h-auto">' +
                '  <div style="border-radius: 10px;">'+
                    '<div class="card-content">' +
                        '<div class="card-body ">' +
                '<a href="' + jsonD.Value[index].Url + '" target="_blank">' +
                '<img src="/' + jsonD.Value[index].WbFullPicture + '" style="width:100%">' +
                '</a>'
                        '<div class="my-3">' +
                        '<a href="' + jsonD.Value[index].Url + '" class="text-dark" target="_blank" style=" float:left;"><b>' + jsonD.Value[index].Title + '</b></a>' +
                   '</div>' + '<br>'+

                '<div class="mt-2">' +

                '<div class="text-muted pb-2"><a class="text-muted" href="' + jsonD.Value[index].Url + '" target="_blank">' + '<i class="fas fa-link"></i>' + jsonD.Value[index].Url + '</a></div>' +
                '<div class="text-muted pb-2">' + '<small>' + '<i class="mdi mdi-clock-outline"></i>'+ fixDateTime(jsonD.Value[index].DateTime) + '</small>' +'</div>' +
                '</div>'+


                '<div style="text-align:justify;">' +
                '<a href="' + jsonD.Value[index].Url + '" class="text - dark" target="_blank">ййй' + jsonD.Value[index].Body + '</a>' +
                '</div>' +
                '</div>';
            @*var strStart = jsonD.Value[index].Title;
            console.log(jsonD.Value[index].Title);*@


            var strLast =
                '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                '<div class="col-sm-auto">' +
                '<input type="checkbox" class="checkbox form-check-input"  data-type="WebSite" data-postid="' + jsonD.Value[index].ID + '"style="width: 19px !important; height: 19px; margin-top: 0"/>' +
                '</div>' +
                '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                '</div >' +
                '</div>' +
                '<div class="col-sm-auto">' +
                `<button onclick="Modal('WebSite','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn  btn-block" style="padding: 2px 0 0 4px ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>'



            htmlStr = strStart + ' ' + strLast;
            $("#main-bodyWebsiteOnly").append(htmlStr);
            await new Promise((resolve) => setTimeout(resolve, 100));
        }
    }
    //bulgaa 2022-05-05 begin search engine facebook only
    async function displayFbOnly() {
        var getListType = getCookie("isListView");
        var jsonD = JSON.parse(JSON.stringify(jsonData[0]));
        //console.log(jsonD.Value);
        //var index = 0;
        //for (var index = lastFbIndex; index < lastFbIndex + 5; index++) {
        //for (var index = 0; index < jsonD.length - 1; index++) {
        var htmlStr = '';
        if (getListType == 1) {
            for (var index = 0; index < jsonD.Value.length; index++) {
                htmlStr = '<div style="border-radius: 10px; " class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content mb-1" name="post">' +
                    '<div class="card-body">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                    ((jsonD.Value[index].FullPicture != null) ? '<a href="' + jsonD.Value[index].Link + '" class="" target="_blank"><img src="/' + jsonD.Value[index].FullPicture + '" onError="this.style.display = "none";" style="width:100%; height:100%"></a>' : '') +

                    '</div>'+
                '<div style="line-height:18px;">'+
                '<a href="https://www.facebook.com/' + jsonD.Value[index].FromID + '" class="float-left" style="color:#0067D4 !important" target="_blank">'+
                    jsonD.Value[index].FromName +
                    '</a><br>' +
                    '<div class="float-right" style="font-style:italic; color:#ccc;">' + jsonD.Value[index].UpdateTime + '</div><br />' +
                    '<div style="text-align:justify; margin-bottom:10px">' +
                    '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="float-left text-dark" target="_blank">' +
                    ((jsonD.Value[index].Message != null) ? jsonD.Value[index].Message : '') +
                    ((jsonD.Value[index].Story != null) ? jsonD.Value[index].Story : '') +
                    ((jsonD.Value[index].Caption != null) ? jsonD.Value[index].Caption : '') +
                    ((jsonD.Value[index].Description != null) ? ' <a href="' + jsonD.Value[index].ID + '"></a>' + jsonD.Value[index].Description : '') +
                    '</a>' +
                    '</div>'
                    '</div>' +
                    '</div>' +
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="">' +
                    '<div class=" col-sm-auto">' +
                    '<input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px; margin-top:0" />' +
                    '</div>' +
                    '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;">' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '<div class="col-sm-auto">' +
                    `<button onclick="Modal('Facebook','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 4px ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>';

                $("#main-bodyFacebookOnly").append(htmlStr);
                FB.XFBML.parse();
                await new Promise(done => setTimeout(() => done(), 1000));
            }

        }
        else {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart = '<div style="break-inside: avoid; margin-bottom: 1rem;">' +
                    '<div class="card h-auto">' +
                    '<div class="card-content mb-1" name="post">';

                var strMiddle = "";

                if (!jsonD.Value[index].PermalinkUrl.includes("group")) {
                    strMiddle = strMiddle.concat(

                        '<div class="fb-post" data-href="' + jsonD.Value[index].PermalinkUrl + '" data-width="auto"></div>');
                }
                else {
                    strMiddle = strMiddle.concat(
                        '<div class="card-body">' +
                        '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                        ((jsonD.Value[index].FullPicture != null) ?
                            '<a href="' + jsonD.Value[index].Link + '" class="" target="_blank">' +
                            '<img src="' + jsonD.Value[index].FullPicture + '" style="width:100%; height:100%">' +
                            '</a>' : "") +
                        '</div>' +
                        '<div style="line-height:18px;">' +
                        '<a href="https://www.facebook.com/' + jsonD.Value[index].FromID + '" class="float-left" style="color:#0067D4 !important" target="_blank">' +
                        jsonD.Value[index].FromName +
                        '</a><br>' +
                        '<div class="float-right" style="font-style:italic; color:#ccc;">' + fixDateTime(jsonD.Value[index].UpdateTime) +
                        '</div><br />' +
                        '<div style="text-align:justify;">' +
                        '<a href="https://www.facebook.com/' + jsonD.Value[index].PostID + '" class="float-left text-dark" target="_blank">' +
                        ((jsonD.Value[index].Message != null) ? jsonD.Value[index].Message : '') +
                        ((jsonD.Value[index].Story != null) ? jsonD.Value[index].Story : '') +
                        ((jsonD.Value[index].Caption != null) ? jsonD.Value[index].Caption : '') +
                        ((jsonD.Value[index].Description != null) ? ' <a href="' + jsonD.Value[index].ID + '"></a>' + jsonD.Value[index].Description : '') +
                        '</a>' +
                        '</div>' +
                        '</div>' +
                        '</div>');
                }
                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    '<input type="checkbox" class="checkbox form-check-input" data-type="Facebook" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    `<button onclick="Modal('Facebook','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '<div class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>'




                htmlStr += strStart + ' ' + strMiddle + ' ' + strLast;

                $("#main-bodyFacebookOnly").append(htmlStr);
                FB.XFBML.parse();
                await new Promise(done => setTimeout(() => done(), 1000));
            }
        }
    }
    //bulgaa 2022-05-05 begin search engine twitteronly
    async function displayTwOnly() {
        var getListType = getCookie("isListView");
        var jsonD = JSON.parse(JSON.stringify(jsonData[1]));
        //console.log(jsonD.Value);
        //var index = 0;

        //for (var index = lastTwIndex; index < lastTwIndex + 5; index++) {
        var htmlStr = "";
        var jsonD = JSON.parse(JSON.stringify(jsonData[1]));
        //console.log(jsonD.Value);
        //var index = 0;
        //onclick="goToURL(((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + ' / status / ' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + ' / status / ' + jsonD.Value[index].StatusID));"
        //for (var index = lastTwIndex; index < lastTwIndex + 5; index++) {
        var htmlStr = "";
        if (getListType == "1") {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart =
                    '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content">' +
                    '<div class="card-body p-1">' +
                    '<blockquote style="margin:5px 12px" data-cards="hidden" align=left class="twitter-tweet" data-lang="en">' +
                    '<div class="row justify-content-md-center">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                    '<a href="' + jsonD.Value[index].UrlEntity1 + '" class="" target="_blank">' +
                    '<img src="/' + jsonD.Value[index].TwFullPicture + '" onError="this.style.display = "none";" style="width:100%; height:100%">' +
                    '<a>' + jsonD.Value[index].FullText + '</a>' +
                    '</a>' +
                    '</a>' +
                    '</div>' +
                    '</div>' +
                    '</blockquote>' +
                    '</div>' +
                    '</div>' +
                    '</div>';


                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    ' <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px;margin-top:0"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '</div>' +
                    '<div  class="col-sm-auto">' +
                    `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +

                    '</span>';

                htmlStr = strStart + strLast;
                $("#main-bodyTwitterOnly").append(htmlStr);
                twttr.widgets.load();
                await new Promise(done => setTimeout(() => done(), 200));
            }
        }
        else {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart =
                    '<span style="display:block; !importand; margin-top:10px">' +
                    '<div style="width:80%; margin:auto" class="card news-feed-card-bg smart-news-box" > ' +
                    '<div class="card-content">' +
                    '<div class="card-body mb-2">' +
                    '<blockquote class="twitter-tweet" data-lang="en">' +
            @* ' <a href="http://twitter.com/' +
                    ((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + '/status/' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + '/status/' + jsonD.Value[index].StatusID) +
                    '"></a>*@
                '</blockquote>' +
                    '<div class="row justify-content-md-center">' +
                    '<div  style="display:flex; justify-content:space-between" class="col">' +
                    '<h5 class="m-0 text-dark text-break text-wrap">' + jsonD.Value[index].ScreenName + '</h5>' +
                    '<div class="col-md-auto text-muted">' +
                    '<p style="font-size:12px ;padding-top:6px">' + jsonD.Value[index].CreatedAt + '</p>' +
                    '</div>' +
                    '</div>' +
                    '<div class="col-md-auto text-end">' +
                    ' <a style="color: #1D9BF0; font-size:22px; padding:0px 10px" href="#" target="_blank"> <i class="fa-brands fa-twitter"></i></a>' +
                    '</div>' +
                    '<div>' +
                    '</div>' +
                    '<div onclick="goToURL()">' + jsonD.Value[index].Text + '</div>' +
                    '</div>' +
                    '</div>' +

                    '</div>';


                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    ' <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px;margin-top:0"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '</div>' +
                    '<div  class="col-sm-auto">' +
                    `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +

                    '</span>';

                htmlStr = strStart  + strLast;
                $("#main-bodyTwitterOnly").append(htmlStr);
                twttr.widgets.load();
                await new Promise(done => setTimeout(() => done(), 200));
            }
        }
  @*      for (var index = 0; index < jsonD.Value.length; index++) {

            var strStart =
                '<div style="break-inside: avoid; margin-bottom: 1rem;">' +
                '<div class="card h-auto">' +
                '<div class="card-content mb-1" name="post">' +
                '<div class="card-body p-1">' +
                '<blockquote class="twitter-tweet" data-lang="en">' +
                ' <a href="http://twitter.com/' +
                ((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + '/status/' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + '/status/' + jsonD.Value[index].StatusID) +
                '"></a>' +
                '</blockquote>' +
                '</div>' +
                '</div>';


            var strLast =
                '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                '<div class="col-sm-auto">' +
                '<input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px"/>' +
                '</div>' +

                '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                '</div >' +
                '</div>' +
                '<div  class="col-sm-auto" >' +
                `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block"  style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +

                '</div>' +
                '</div>' +
                '</div>';

            htmlStr = strStart + ' ' + strLast;
            $("#main-bodyTwitterOnly").append(htmlStr);
            twttr.widgets.load();
            await new Promise(done => setTimeout(() => done(), 200));
        }*@
    }
    //bulgaa 2022-05-05 begin search engine web List adding only web
    async function displayWbOnlyList() {
        var jsonD = JSON.parse(JSON.stringify(jsonData[2]));
        console.log(jsonD.Value);
        //var index = 0;

        //for (var index = lastWbIndex; index < lastWbIndex + 5; index++) {
        var htmlStr = '';
        for (var index = 0; index < jsonD.Value.length; index++) {

            var strStart = '<span style="display:block !important; margin-top:10px;"><div style="width:80%; margin:auto; " class="card news-feed-card-bg smart-news-box col-xs-4 col-lg-6">' +
                '<div class="card-content">' +
                '<div class="card-body mb-2">' +
                '<a href="' + jsonD.Value[index].Url + '" target="_blank">' +
                '<img src="/' + jsonD.Value[index].WbFullPicture + '" style="width:100%">' +
                '</a>' +
                '<div>' +
                '<h5 class="m-0 text-dark text-break text-wrap" ><b>' + jsonD.Value[index].Title + '</b></h5>' +
                '</div>' +
                '<div class="col-md-auto text-end">'+
                '<a style = "color: #7081B9; font-size: 22px; padding: 0px 10px" href="' + jsonD.Value[index].Url + '" target = "_blank" >'+'<i class="fa-solid fa-globe"></i>'+'</a>' +
                                    '</div >'+
                '<div style="display:flex; justify-content:space-between; font-style:italic;">' +
                         '<a class="text-muted" href = "' + jsonD.Value[index].Url + '" target = "_blank" > ' + jsonD.Value[index].Url + '</a >' +
                         '<div class="text-muted" style="font-style:italic;">' + fixDateTime(jsonD.Value[index].DateTime) + '</div>' +
                '</div > ' +
                '<div style="text-align:justify;">' +
                '<a href="' + jsonD.Value[index].Url + '" class="text - dark" target="_blank">aaa' + jsonD.Value[index].Body + '</a>' +
                '</div>' +
                '</div>';
            @*            var strStart = jsonD.Value[index].Title;
            console.log(jsonD.Value[index].Title);*@


            var strLast =
                '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                '<div style="display:flex;align-items:center; justify-content:end" class="row">' +

                '<div class="col-sm-auto">' +
                '<input type="checkbox" class="checkbox form-check-input" data-type="WebSite" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px"/>' +
                '</div>' +
                '<div style="padding:0 7px 0 7px; border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                '</div >' +
                '</div>' +
                '<div class="col-sm-auto">' +
                `<button onclick="Modal('WebSite','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                '</div>' +
                '</div>' +
                '</div>' +
                '</div>' +
                '</span>';

            htmlStr = strStart + ' ' + strLast;
            $("#OnlyWebsiteListView").append(htmlStr);
            await new Promise((resolve) => setTimeout(resolve, 100));
        }
    }
    //bulgaa 2022-05-05 begin search engine twitteronly


    async function displayTwOnlyList() {
        var getListType = getCookie("isListView");
        var jsonD = JSON.parse(JSON.stringify(jsonData[1]));
        //console.log(jsonD.Value);
        //var index = 0;
        //onclick="goToURL(((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + ' / status / ' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + ' / status / ' + jsonD.Value[index].StatusID));"
        //for (var index = lastTwIndex; index < lastTwIndex + 5; index++) {
        var htmlStr = "";
        if (getListType == "1") {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart =
                    '<span style="display:block; !important;"> <div class="card news-feed-card-bg smart-news-box">' +
                    '<div class="card-content">' +
                    '<div class="card-body p-1">' +
                    '<blockquote style="margin:5px 12px" data-cards="hidden" align=left class="twitter-tweet" data-lang="en">' +
                    '<div class="row justify-content-md-center">' +
                    '<div class="" style="width:100%; height:100%; overflow:hidden;">' +
                    '<a href="' + jsonD.Value[index].UrlEntity1 + '" class="" target="_blank">' +
                    '<img src="/' + jsonD.Value[index].TwFullPicture + '" onError="this.style.display = "none";" style="width:100%; height:100%">' +
                    '<a>' + jsonD.Value[index].FullText + '</a>' +
                    '</a>' +
                    '</a>' +
                    '</div>' +
                    '</div>' +
                    '</blockquote>' +
                    '</div>' +
                    '</div>' +
                    '</div>';


                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    ' <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px;margin-top:0"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '</div>' +
                    '<div  class="col-sm-auto">' +
                    `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +

                    '</span>';

                htmlStr = strStart + strLast;
                $("#OnlyTwitterListView").append(htmlStr);
                twttr.widgets.load();
                await new Promise(done => setTimeout(() => done(), 200));
            }
        }
        else {
            for (var index = 0; index < jsonD.Value.length; index++) {

                var strStart =
                    '<span style="display:block; !importand; margin-top:10px">' +
                    '<div style="width:80%; margin:auto" class="card news-feed-card-bg smart-news-box" > ' +
                    '<div class="card-content">' +
                    '<div class="card-body mb-2">' +
                    '<blockquote class="twitter-tweet" data-lang="en">' +
            @* ' <a href="http://twitter.com/' +
                    ((jsonD.Value[index].ScreenName == null) ? jsonD.Value[index].ScreenNameResponse + '/status/' + jsonD.Value[index].StatusID : jsonD.Value[index].ScreenName + '/status/' + jsonD.Value[index].StatusID) +
                    '"></a>*@
                '</blockquote>' +
                    '<div class="row justify-content-md-center">' +
                    '<div  style="display:flex; justify-content:space-between" class="col">' +
                    '<h5 class="m-0 text-dark text-break text-wrap">' + jsonD.Value[index].ScreenName + '</h5>' +
                    '<div class="col-md-auto text-muted">' +
                    '<p style="font-size:12px ;padding-top:6px">' + jsonD.Value[index].CreatedAt + '</p>' +
                    '</div>' +
                    '</div>' +
                    '<div class="col-md-auto text-end">' +
                    ' <a style="color: #1D9BF0; font-size:22px; padding:0px 10px" href="#" target="_blank"> <i class="fa-brands fa-twitter"></i></a>' +
                    '</div>' +
                    '<div>' +
                    '</div>' +
                    '<div onclick="goToURL()">' + jsonD.Value[index].Text + '</div>' +
                    '</div>' +
                    '</div>' +

                    '</div>';


                var strLast =
                    '<div class="container" style=" border-top: 1px solid #e3ebf6;">' +
                    '<div style="display:flex;align-items:center; justify-content:end" class="row">' +
                    '<div class="col-sm-auto">' +
                    ' <input type="checkbox" class="checkbox form-check-input" data-type="Twitter" data-postid="' + jsonD.Value[index].ID + '" style="width:19px !important;height:19px;margin-top:0"/>' +
                    '</div>' +
                    '<div style="border-right: 1px solid #e3ebf6" class="col-sm-auto">' +
                    ((jsonD.Value[index].Sentiment == null) ? '<div align="right" style="width: 35px !important; height: 19px; background: #ffc107; padding: 3px; border-radius: 5px; color: #fff;"> ' : '') +
                    ((jsonD.Value[index].Sentiment == "Positive") ? '<div align="right" style="width: 35px !important; height: 19px; background: #28a745; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Negative") ? '<div align="right" style="width: 35px !important; height: 19px; background: #dc3545; padding: 3px; color: #fff; border-radius: 5px; ">' : '') +
                    ((jsonD.Value[index].Sentiment == "Neutral") ? '<div align="right" style="width:35px !important; height: 19px; background: #6c757d; padding: 3px; border-radius: 5px; color: #fff; ">' : '') +
                    '</div >' +
                    '</div>' +
                    '<div  class="col-sm-auto">' +
                    `<button onclick="Modal('Twitter','` + jsonD.Value[index].ID + `')" data-toggle="modal" data-target="#ModalControl" class="btn btn-block" style="padding: 2px 0 0 0 ; border-radius: 5px; color: #7081b9; font-size: 19px"><i class="fa fa-cog"></i></button>` +
                    '</div>' +
                    '</div>' +
                    '</div>' +

                    '</span>';

                htmlStr = strStart + strLast;
                $("#OnlyTwitterListView").append(htmlStr);
                twttr.widgets.load();
                await new Promise(done => setTimeout(() => done(), 200));
            }
        }

    }
    //bulgaa 2022-05-05 end
    @*bulgaa 2022-04-19*@

    function goToURL(url) {
        alert(url);
        let strUrl = "http://twitter.com/";
        window.open(strUrl + url, '_blank');
    }
    function fixDateTime(strDate) {
        strDate = strDate.replace("/", "");
        strDate = strDate.replace("/", "");
        strDate = strDate.replace("Date", "");
        strDate = strDate.replace("(", "");
        strDate = strDate.replace(")", "");

        //var pattern = /Date(([^)]+))/;
        //var results = pattern.exec(value);
        var dt = new Date(parseFloat(strDate));
        var result = dt.toLocaleString('en-US');
        return result;
    }
    //bulgaa 2022-04-06 begin
    const websiteChartCount1 = @ViewBag.websiteChartCount1;
    const facebookChartCount1 = @ViewBag.facebookChartCount1;
    const twitterChartCount1 = @ViewBag.twitterChartCount1;
@*    const websiteChart14day = @ViewBag.counterweb14day;
    const facebookChart14day = @ViewBag.counterfb14day;
    const twitterChart14day = @ViewBag.countertw14day;

    console.log("asdf123:",facebookChartCount1);
    console.log("asdf1232222:",facebookChart14day);*@
    //alert(twitterPost);
    var fbPost = $('#fbPost').attr('value');
    var webPost = $('#webPost').attr('value');
    //bulgaa 2022 - 04 - 06 end
    @*function Convert_HTML_To_PDF() {
        var elementHTML = document.getElementById('main-body');

        html2canvas(elementHTML, {
            useCORS: true,
            onrendered: function (canvas) {
                var pdf = new jsPDF('l', 'mm', [297, 210]);

                //var pageHeight = 980;
                //var pageWidth = 900;

                var pageWidth = doc.internal.pageSize.getWidth();
                var pageHeight = doc.internal.pageSize.getHeight();

                for (var i = 0; i <= elementHTML.clientHeight / pageHeight; i++) {
                    var srcImg = canvas;
                    var sX = 0;
                    var sY = pageHeight * i; // start 1 pageHeight down for every new page


                    var sWidth = pageWidth;
                    var sHeight = pageHeight;
                    var dX = 0;
                    var dY = 0;
                    var dWidth = pageWidth;
                    var dHeight = pageHeight;

                    window.onePageCanvas = document.createElement("canvas");
                    onePageCanvas.setAttribute('width', pageWidth);
                    onePageCanvas.setAttribute('height', pageHeight);
                    var ctx = onePageCanvas.getContext('2d');
                    ctx.drawImage(srcImg, sX, sY, sWidth, sHeight, dX, dY, dWidth, dHeight);

                    var canvasDataURL = onePageCanvas.toDataURL("image/png", 1.0);
                    var width = onePageCanvas.width;
                    var height = onePageCanvas.clientHeight;


                    if (i > 0) // if we're on anything other than the first page, add another page
                        pdf.addPage(612, 864); // 8.5" x 12" in pts (inches*72)

                    pdf.setPage(i + 1); // now we declare that we're working on that page
                    pdf.addImage(canvasDataURL, 'PNG', 20, 40, (width * .62), (height * .62)); // add content to the page
                }

                // Save the PDF
                pdf.save('document.pdf');
            }
        });
    }*@
    function Export2Word(element, filename = '') {
        var preHtml = "<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML To Doc</title></head><body>";
        var postHtml = "</body></html>";
        var html = preHtml + document.getElementById(element).innerHTML + postHtml;

        var blob = new Blob(['\ufeff', html], {
            type: 'application/msword'
        });

        // Specify link url
        var url = 'data:application/vnd.ms-word;charset=utf-8,' + encodeURIComponent(html);

        // Specify file name
        filename = filename ? filename + '.doc' : 'document.doc';

        // Create download link element
        var downloadLink = document.createElement("a");

        document.body.appendChild(downloadLink);

        if (navigator.msSaveOrOpenBlob) {
            navigator.msSaveOrOpenBlob(blob, filename);
        } else {
            // Create a link to the file
            downloadLink.href = url;

            // Setting the file name
            downloadLink.download = filename;

            //triggering the function
            downloadLink.click();
        }

        document.body.removeChild(downloadLink);
    }
    function Check() {
        var testCheck = document.getElementById("testCheck");
        if (testCheck.checked) {
            checkCheckbox(true);
        } else {
            checkCheckbox(false);
        }
    }

    function setCookie(cName, cValue, expDays) {
        let date = new Date();
        date.setTime(date.getTime() + (expDays * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = cName + "=" + cValue + "; " + expires + "; path=/";
    }

    function getCookie(cName) {
        const name = cName + "=";
        const cDecoded = decodeURIComponent(document.cookie); //to be careful
        const cArr = cDecoded.split('; ');
        let res;
        cArr.forEach(val => {
            if (val.indexOf(name) === 0) res = val.substring(name.length);
        })
        return res;
    }
    function pdfToValue() {
        var takeTitleValue = document.getElementById("reportTitle").value;
        document.getElementById("demo").innerHTML = takeTitleValue;
        var takeReportValue = document.getElementById("report").value;
        document.getElementById("demo2").innerHTML = takeReportValue;
        var takeDateValueEnd = document.getElementById("date_end").value;
        var takeDateValueStart = document.getElementById("date_start").value;
        var DateValue = takeDateValueStart + ' - ' + takeDateValueEnd;
        document.getElementById("TimeTake").innerHTML = DateValue;
        var takeThisDayValue = document.getElementById("reportdate").value;
        document.getElementById("timeGiveThisDay").innerHTML = takeThisDayValue;

    }

    var ana_dash_3_options = {
        series: [{
            name: 'Twitter',
            data: @ViewBag.countertw14day,

        }, {
            name: 'Facebook',
            data: @ViewBag.counterfb14day,
        },
        {
            name: 'Website',
            data: @ViewBag.counterweb14day,
        }],
        chart: {
            type: 'bar',
            height: 450,
            color: '#fd5949',
            stacked: true,
            foreColor: '#fd5949',
            fontFamily: 'Helvetica, Arial, sans-serif'
        },
        plotOptions: {
            bar: {
                horizontal: false,
                borderRadius: 10
            },
        },
        stroke: {
            width: 1,
            colors: ['#fff'],
        },

        dataLabels: {
            enabled: true,
            dropShadow: {
                enabled: false
            },
            style: {
                fontSize: '12px',
                fontFamily: 'Roboto',
                foreColor: '#373d3f',
            },
        },
        colors: ['#00ACEE', '#4267B2', '#f5325c'],
        grid: {
            xaxis: {
                lines: {
                    show: true
                }
            }
        },
        xaxis: {
            categories: @ViewBag.days14,
        },



    };


    var chart = new ApexCharts(document.querySelector("#ana_dash_3"), ana_dash_3_options);
    chart.render();

    var chart = new ApexCharts(
        document.querySelector("#ana_dash_3"),
        options
    );
    chart.render();
</script>

<script src="~/Content/assets/pages/page_analysis.js"></script>